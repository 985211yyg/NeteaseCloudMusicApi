<?php
 goto lxEI3; gqsTr: if ($result) { goto mb1mz; } goto g3ynf; FpWSd: $ret["\x72\157\157\164"]["\162\145\x73\165\154\x74"] = "\xe6\x9c\xac\345\x9c\xb0\347\x9b\256\345\275\x95\xe6\x97\xa0\346\xb3\x95\xe5\x86\x99\345\x85\xa5"; goto nRzN1; H8_Vb: rSEJs: goto pK0xM; yuVQC: c4HBH: goto Fo6uP; waUtn: exit(we7_error(0, "\x73\x75\x63\143\145\163\x73")); goto Ksxye; ibc9U: if (!(is_array($data) && isset($data["\145\162\x72\157\x72"]))) { goto JjHQ7; } goto htPPB; f291f: $action = "\143\150\145\143\153\x5f\x73\151\164\145"; goto LHl52; z_JzO: exit(we7_error(0, "\163\x75\x63\x63\x65\x73\163")); goto Yej7I; kapel: $auth = @json_decode(base64_decode($post), true); goto W9_Nz; FTSYi: we7_setcookie("\x72\145\147\151\163\x74\x65\162\145\144\x5f\163\151\x74\145", 1); goto YImam; Xzp8S: $ret["\x76\145\162\163\x69\x6f\156"]["\162\145\163\165\x6c\x74"] = PHP_VERSION; goto CXt1s; JLtu9: qqa9h: goto FTSYi; I_FxL: $user_result = we7_update_user($username, $password); goto xVeEe; ScNHc: function install_authcode($string, $operation = "\104\105\103\x4f\104\x45", $key = '', $expiry = 0) { goto nNv55; DU4IH: if (!($i < 256)) { goto Z2b6Y; } goto FncTQ; jIwsh: $keyb = md5(substr($key, 16, 16)); goto egqJU; uuMT3: $keya = md5(substr($key, 0, 16)); goto jIwsh; EvG33: $box[$i] = $box[$j]; goto qOMfn; gP0tm: Aqlz1: goto QrsAi; bpqYl: iPSSQ: goto cpq1M; wvJRK: goto RRx2A; goto Reap0; Reap0: BBO7L: goto jSOb3; NFMNW: $i++; goto irTqR; QqfXc: y5CkJ: goto jKHhq; jSOb3: $j = $i = 0; goto qWN68; zieCy: if (!($i <= 255)) { goto BBO7L; } goto YkMCQ; p1J5P: $result = ''; goto C8Ilr; zgpX6: $key_length = strlen($cryptkey); goto oI9K5; Gz58X: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto iPSSQ; } goto mvCfn; ufBz0: RRx2A: goto zieCy; YkMCQ: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto r3xVH; uduAx: $string_length = strlen($string); goto p1J5P; LNz2S: $box[$a] = $box[$j]; goto YqC1H; qZqT9: $a = $j = $i = 0; goto gFJAF; HQe54: $a = ($a + 1) % 256; goto J4xrx; nNv55: $ckey_length = 4; goto Pc_g0; FncTQ: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto s2Mtu; qOMfn: $box[$j] = $tmp; goto Cye0K; s2Mtu: $tmp = $box[$i]; goto EvG33; Pc_g0: $key = md5($key != '' ? $key : $GLOBALS["\137\x57"]["\143\157\156\146\x69\147"]["\163\x65\x74\x74\x69\156\x67"]["\141\165\164\150\153\x65\x79"]); goto uuMT3; yWCUo: $cryptkey = $keya . md5($keya . $keyc); goto zgpX6; qEUDU: $i++; goto wvJRK; vbenF: if (!($i < $string_length)) { goto Aqlz1; } goto HQe54; ozSTW: goto y5CkJ; goto cs5Ug; k7kjF: goto Dj6vL; goto bpqYl; Cye0K: ppR76: goto NFMNW; cpq1M: return substr($result, 26); goto xG1Fl; C8Ilr: $box = range(0, 255); goto rPfZi; cs5Ug: Rw66t: goto Gz58X; mJsxU: TPKmq: goto f8f3p; ynqUB: $tmp = $box[$a]; goto LNz2S; egqJU: $keyc = $ckey_length ? $operation == "\x44\105\103\117\104\x45" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto yWCUo; t74k4: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto mJsxU; r3xVH: iSbhJ: goto qEUDU; E2SNu: Z2b6Y: goto qZqT9; irTqR: goto co17E; goto E2SNu; nXAos: goto dHpjg; goto gP0tm; J4xrx: $j = ($j + $box[$a]) % 256; goto ynqUB; Vi7Or: $i = 0; goto ufBz0; QrsAi: if ($operation == "\x44\105\x43\x4f\104\x45") { goto Rw66t; } goto bp8TX; xG1Fl: Dj6vL: goto QqfXc; qWN68: co17E: goto DU4IH; YqC1H: $box[$j] = $tmp; goto t74k4; f8f3p: $i++; goto nXAos; oI9K5: $string = $operation == "\x44\105\x43\x4f\104\105" ? base64_decode(substr($string, $ckey_length)) : sprintf("\x25\60\61\60\144", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto uduAx; bp8TX: return $keyc . str_replace("\75", '', base64_encode($result)); goto ozSTW; rPfZi: $rndkey = array(); goto Vi7Or; gFJAF: dHpjg: goto vbenF; mvCfn: return ''; goto k7kjF; jKHhq: } goto MTQcW; eLc2g: if (!($action == "\151\x6e\x73\x74\x61\x6c\x6c")) { goto GLRgN; } goto A3NpG; dB1ZH: $ret["\163\x65\x73\163\x69\x6f\156"]["\146\x61\151\x6c\145\x64"] = true; goto RqkZw; UVRR8: $sitekey = $_W["\163\145\164\x74\151\156\147"]["\x73\151\x74\x65"]["\153\x65\171"]; goto DoraP; lduC6: define("\101\x50\111\x5f\x4f\x41\x55\124\x48\x5f\x52\x45\123\105\124\137\123\x49\124\x45\111\x4e\106\117", API_HOST . "\x2f\x73\x69\x74\145\57\162\x65\147\151\x73\164\145\162\57\x70\x72\x6f\x66\151\154\x65"); goto AGqtD; DqCdA: $ret["\x61\154\x77\141\x79\x73\137\x70\x6f\x70\x75\154\141\x74\145\x5f\x72\141\x77\137\160\157\x73\164\x5f\144\x61\x74\x61"]["\x66\x61\151\x6c\145\144"] = @ini_get("\141\154\167\x61\171\x73\137\160\x6f\x70\165\154\141\x74\145\137\162\x61\x77\x5f\160\157\163\164\x5f\x64\141\x74\x61") != "\55\61"; goto tJpXM; knuuz: fwrite($fh, $output); goto GrSzv; ais1x: $ret["\x75\x70\154\x6f\x61\x64"]["\x72\x65\163\x75\154\x74"] = $server["\x75\x70\x6c\157\141\144"]; goto H01vh; Jgfxh: $ret["\166\x65\162\163\151\157\156"]["\x66\x61\x69\154\145\x64"] = true; goto yZ84i; aqW2G: function local_config() { $cfg = "\74\x3f\x70\150\160\xd\12\144\x65\x66\x69\x6e\x65\x64\50\x27\x49\x4e\x5f\111\x41\47\x29\x20\157\x72\40\145\170\151\164\50\x27\101\x63\x63\145\163\163\40\104\x65\x6e\x69\145\144\x27\x29\x3b\xd\12\15\xa\44\x63\x6f\x6e\x66\x69\147\x20\75\x20\141\x72\x72\x61\x79\x28\x29\x3b\15\xa\xd\12\44\x63\x6f\156\146\x69\147\x5b\47\x64\x62\47\135\x5b\47\155\x61\x73\164\145\x72\x27\x5d\x5b\x27\x68\x6f\x73\x74\47\135\x20\75\x20\x27\173\144\142\x2d\x73\145\x72\166\145\162\175\x27\x3b\15\12\44\143\157\156\x66\x69\x67\133\x27\144\x62\x27\x5d\x5b\47\x6d\x61\163\x74\145\x72\x27\135\133\47\x75\x73\x65\x72\156\x61\155\145\x27\135\x20\75\40\47\x7b\144\x62\55\165\163\145\x72\156\x61\155\145\x7d\x27\x3b\15\xa\x24\143\x6f\156\x66\151\x67\133\47\x64\x62\x27\x5d\133\47\x6d\141\x73\x74\145\162\47\135\133\47\x70\x61\x73\x73\167\157\162\144\47\135\x20\75\x20\47\173\x64\x62\55\x70\141\x73\163\167\x6f\162\144\x7d\x27\x3b\xd\xa\44\143\157\156\x66\151\x67\x5b\x27\x64\142\x27\135\133\47\155\x61\163\x74\145\x72\x27\135\133\x27\x70\157\x72\x74\x27\x5d\x20\x3d\40\47\x7b\144\x62\55\x70\x6f\162\164\175\x27\73\15\12\x24\x63\157\x6e\x66\x69\x67\133\x27\x64\x62\47\135\x5b\47\155\x61\x73\x74\145\162\47\135\x5b\x27\144\141\164\141\x62\141\x73\145\47\x5d\40\75\40\47\x7b\x64\142\55\x6e\x61\x6d\x65\175\47\73\xd\12\44\143\157\156\146\x69\x67\133\47\x64\142\47\135\133\47\155\x61\163\x74\145\x72\x27\135\133\x27\x63\150\x61\162\x73\x65\164\47\x5d\40\x3d\x20\x27\x75\164\x66\x38\x27\x3b\xd\12\x24\143\x6f\x6e\x66\151\x67\x5b\47\x64\142\47\135\133\x27\x6d\141\163\x74\x65\162\x27\x5d\133\x27\x70\143\157\x6e\156\x65\143\x74\x27\x5d\x20\75\40\60\73\xd\12\44\143\157\156\x66\x69\147\x5b\47\x64\142\x27\135\133\47\155\x61\163\x74\x65\162\47\x5d\133\47\164\x61\x62\154\145\x70\162\145\47\x5d\40\x3d\40\47\x7b\144\x62\55\x74\141\x62\154\x65\160\162\x65\x7d\x27\x3b\15\xa\xd\xa\44\143\157\156\x66\151\x67\133\x27\x64\x62\47\x5d\x5b\x27\163\x6c\x61\166\145\x5f\163\164\x61\164\165\163\x27\x5d\40\x3d\40\146\x61\x6c\x73\x65\73\15\xa\x24\x63\x6f\x6e\x66\151\147\x5b\x27\144\x62\x27\x5d\x5b\x27\x73\x6c\141\x76\x65\47\x5d\133\47\x31\x27\x5d\133\47\x68\x6f\163\164\47\135\40\75\x20\47\47\x3b\xd\xa\44\143\x6f\x6e\x66\151\147\x5b\x27\x64\142\x27\x5d\133\x27\163\x6c\x61\x76\145\47\135\133\x27\61\x27\135\x5b\x27\165\x73\145\162\x6e\141\x6d\145\x27\x5d\x20\75\40\47\x27\73\15\xa\44\143\x6f\x6e\x66\151\147\133\x27\144\x62\47\135\x5b\x27\x73\154\x61\166\x65\x27\x5d\133\47\61\x27\x5d\x5b\x27\x70\x61\163\x73\x77\157\162\144\x27\x5d\40\x3d\x20\x27\47\x3b\xd\12\44\143\x6f\156\146\151\147\133\47\x64\142\x27\135\133\x27\163\x6c\x61\x76\x65\47\135\133\x27\x31\x27\x5d\133\x27\160\157\x72\x74\x27\135\40\75\40\x27\x33\63\x30\67\x27\73\xd\xa\44\x63\x6f\x6e\146\x69\x67\133\x27\144\x62\x27\x5d\x5b\47\163\x6c\141\166\145\x27\135\x5b\47\x31\x27\x5d\133\x27\x64\x61\164\x61\x62\x61\x73\x65\47\135\x20\x3d\x20\47\x27\x3b\xd\12\x24\x63\157\x6e\x66\x69\x67\133\x27\144\142\x27\135\133\x27\163\x6c\x61\166\x65\x27\135\x5b\47\61\x27\x5d\133\47\143\x68\141\162\163\145\164\x27\x5d\40\75\x20\x27\x75\164\146\x38\x27\73\xd\xa\x24\x63\157\156\x66\151\147\133\x27\144\x62\x27\x5d\133\47\x73\x6c\141\166\x65\x27\x5d\133\47\x31\x27\x5d\x5b\47\160\143\x6f\156\156\145\x63\x74\x27\x5d\40\x3d\x20\60\x3b\xd\12\x24\143\157\156\x66\151\x67\133\47\144\x62\47\135\x5b\x27\163\154\x61\166\145\x27\x5d\133\47\x31\x27\x5d\x5b\47\x74\141\x62\x6c\x65\x70\x72\x65\x27\135\40\x3d\40\x27\x69\155\x73\x5f\x27\x3b\15\xa\x24\143\x6f\156\x66\151\x67\x5b\x27\144\142\47\x5d\133\x27\x73\x6c\x61\x76\145\x27\x5d\133\47\x31\x27\x5d\133\47\x77\x65\x69\147\x68\x74\47\135\x20\x3d\x20\60\x3b\xd\12\xd\12\x24\x63\x6f\x6e\146\x69\147\133\x27\144\x62\47\135\133\x27\x63\x6f\155\x6d\157\x6e\47\x5d\133\x27\163\x6c\x61\166\145\137\x65\x78\143\145\160\164\x5f\164\141\142\x6c\x65\x27\x5d\40\x3d\40\141\162\162\x61\171\x28\x27\x63\x6f\162\145\x5f\163\145\x73\x73\x69\157\156\x73\47\51\73\xd\xa\15\xa\x2f\x2f\x20\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\x2d\55\55\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\55\55\55\55\x2d\x20\40\103\x4f\x4e\106\111\107\x20\x43\117\x4f\113\x49\x45\x20\x20\55\55\55\55\55\x2d\55\55\x2d\x2d\55\55\x2d\55\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\55\55\40\x2f\x2f\xd\12\x24\x63\x6f\156\146\151\147\133\47\143\157\x6f\153\151\x65\x27\135\x5b\47\x70\162\145\47\135\40\75\40\x27\173\143\157\x6f\153\x69\145\160\162\x65\175\x27\73\xd\xa\x24\x63\x6f\x6e\146\x69\147\x5b\47\x63\x6f\157\x6b\151\x65\x27\x5d\133\x27\x64\x6f\155\141\151\x6e\x27\135\x20\75\40\x27\x27\x3b\15\12\44\x63\157\x6e\146\x69\147\x5b\47\143\x6f\157\153\x69\145\x27\135\x5b\47\x70\x61\164\x68\x27\x5d\40\x3d\40\47\57\47\x3b\15\xa\15\12\57\57\x20\55\x2d\x2d\55\55\55\55\x2d\x2d\x2d\x2d\55\x2d\55\55\55\x2d\x2d\55\55\55\x2d\x2d\55\x2d\55\40\x20\103\x4f\x4e\106\x49\107\x20\x53\105\x54\x54\111\x4e\107\40\40\55\x2d\x2d\55\x2d\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\x2d\55\x2d\55\x2d\x2d\x2d\x2d\55\55\x2d\40\x2f\x2f\xd\xa\44\143\x6f\x6e\x66\x69\147\x5b\x27\163\145\x74\x74\151\156\x67\47\135\133\x27\143\x68\141\x72\163\145\x74\47\135\40\75\x20\47\x75\x74\x66\55\x38\47\x3b\xd\xa\x24\x63\157\156\x66\x69\x67\133\47\x73\145\x74\164\x69\156\x67\47\135\133\x27\x63\x61\x63\150\x65\47\x5d\x20\x3d\x20\47\155\x79\163\161\x6c\47\73\15\xa\x24\143\157\x6e\x66\151\147\133\47\x73\145\164\x74\151\x6e\147\x27\x5d\133\x27\164\151\155\145\x7a\x6f\156\145\x27\x5d\40\75\40\47\101\x73\x69\x61\57\123\x68\141\156\147\150\x61\151\x27\x3b\xd\xa\x24\x63\157\x6e\146\x69\x67\x5b\x27\163\145\x74\164\x69\156\x67\47\x5d\x5b\47\x6d\x65\x6d\x6f\162\x79\137\x6c\x69\155\151\164\47\x5d\40\75\x20\47\62\x35\66\115\47\73\xd\12\44\143\x6f\156\x66\x69\x67\133\x27\x73\x65\164\164\x69\156\147\x27\135\133\47\146\151\x6c\145\x6d\x6f\144\x65\47\x5d\x20\x3d\x20\60\66\x34\x34\x3b\xd\12\x24\x63\157\x6e\x66\151\147\133\x27\163\145\164\x74\x69\x6e\x67\47\x5d\x5b\x27\x61\x75\164\x68\153\x65\x79\47\135\x20\75\40\47\173\x61\x75\164\150\x6b\x65\x79\x7d\47\73\xd\xa\x24\x63\157\x6e\146\x69\147\x5b\47\x73\x65\x74\164\151\x6e\x67\x27\135\133\47\x66\157\x75\x6e\144\145\162\x27\135\x20\75\40\x27\x31\47\73\15\12\x24\x63\157\x6e\x66\x69\x67\133\47\163\145\164\x74\x69\x6e\x67\x27\x5d\x5b\x27\144\145\x76\x65\154\157\160\155\145\x6e\x74\47\135\x20\75\x20\x30\x3b\xd\12\x24\x63\x6f\x6e\146\151\x67\133\x27\x73\x65\x74\164\x69\156\147\x27\135\133\47\162\x65\x66\x65\162\162\x65\x72\47\x5d\x20\75\x20\x30\x3b\15\12\15\12\x2f\57\40\x2d\x2d\55\x2d\x2d\55\55\55\x2d\55\55\55\x2d\55\55\55\55\x2d\x2d\55\55\x2d\55\55\x2d\55\x20\x20\x43\117\x4e\106\x49\x47\x20\x55\x50\x4c\x4f\x41\104\40\x20\x2d\x2d\x2d\x2d\55\55\55\55\55\x2d\55\x2d\x2d\55\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\x2d\x2d\x20\x2f\x2f\15\xa\x24\x63\157\156\x66\x69\147\133\x27\165\160\x6c\x6f\x61\144\x27\135\133\47\151\x6d\141\147\x65\x27\135\x5b\x27\x65\x78\164\145\156\x74\x69\x6f\156\x73\47\135\x20\75\40\141\x72\162\141\x79\50\47\x67\151\146\47\54\x20\x27\x6a\x70\147\x27\54\40\47\152\160\145\x67\47\x2c\x20\x27\x70\156\x67\x27\x29\x3b\15\12\x24\x63\x6f\x6e\x66\151\147\x5b\x27\165\x70\x6c\x6f\x61\144\47\135\x5b\x27\x69\x6d\141\147\145\x27\x5d\x5b\47\154\151\x6d\x69\164\47\135\x20\75\x20\65\60\60\x30\x3b\xd\xa\44\x63\157\156\146\x69\x67\x5b\x27\x75\160\x6c\157\141\144\x27\135\133\47\x61\164\164\141\x63\150\x64\x69\162\x27\x5d\x20\x3d\40\x27\173\141\x74\164\141\x63\x68\x64\151\162\x7d\47\73\xd\12\44\x63\157\156\x66\151\147\x5b\47\165\x70\x6c\157\x61\144\47\x5d\133\x27\141\x75\x64\151\157\47\135\x5b\47\145\x78\164\x65\156\164\x69\x6f\156\163\x27\x5d\x20\75\x20\141\162\x72\x61\171\50\47\x6d\x70\x33\47\x29\73\15\12\x24\x63\157\x6e\x66\x69\147\x5b\x27\x75\x70\154\x6f\141\x64\47\x5d\133\x27\141\x75\x64\x69\x6f\47\135\x5b\x27\154\x69\155\x69\x74\47\x5d\x20\x3d\x20\65\x30\x30\60\73\xd\xa\xd\12\x2f\57\40\55\x2d\55\55\x2d\x2d\x2d\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\x2d\55\55\x2d\55\55\55\55\40\40\x43\117\x4e\x46\111\107\x20\x4d\x45\115\103\101\x43\x48\x45\x20\40\55\x2d\x2d\55\x2d\55\x2d\x2d\55\x2d\55\x2d\55\55\55\55\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\55\x20\57\x2f\15\xa\x24\143\157\156\x66\151\147\133\47\163\145\x74\164\151\x6e\x67\x27\135\133\47\155\x65\x6d\143\x61\x63\150\x65\47\x5d\x5b\47\x73\145\x72\x76\x65\x72\x27\x5d\x20\75\40\x27\47\x3b\15\xa\44\x63\x6f\156\x66\x69\147\133\47\x73\145\x74\164\151\156\x67\x27\x5d\x5b\47\155\145\155\143\x61\143\x68\145\x27\135\x5b\x27\160\x6f\162\164\47\x5d\x20\75\x20\61\61\62\x31\x31\x3b\15\xa\44\x63\157\156\146\151\147\133\47\163\x65\164\164\x69\156\x67\47\135\133\x27\155\145\155\x63\141\143\150\x65\x27\135\133\x27\160\x63\157\x6e\x6e\145\x63\164\x27\x5d\x20\75\x20\61\x3b\15\12\44\x63\157\x6e\146\151\147\x5b\x27\163\145\x74\x74\151\156\x67\47\x5d\x5b\x27\155\145\155\143\x61\143\150\145\x27\x5d\x5b\x27\x74\151\x6d\x65\157\165\164\47\135\40\75\40\63\60\73\15\12\44\x63\157\x6e\146\151\x67\133\x27\163\x65\x74\x74\151\x6e\x67\x27\135\133\47\x6d\x65\x6d\x63\x61\x63\150\x65\x27\x5d\133\x27\x73\x65\163\163\151\x6f\156\47\x5d\x20\x3d\x20\x31\73\xd\xa\15\12\57\x2f\40\x2d\55\55\x2d\55\55\55\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\55\55\x2d\55\x2d\40\40\x43\x4f\x4e\106\111\x47\40\120\x52\x4f\130\x59\x20\x20\55\55\55\55\x2d\55\x2d\x2d\x2d\55\x2d\55\x2d\x2d\x2d\55\55\x2d\x2d\55\55\55\55\55\x2d\55\x2d\40\57\x2f\15\12\44\143\x6f\x6e\x66\x69\x67\x5b\x27\163\x65\x74\164\x69\156\147\47\x5d\x5b\x27\x70\x72\x6f\x78\171\47\135\x5b\x27\x68\157\x73\164\x27\135\40\75\40\x27\x27\x3b\xd\12\44\x63\157\156\x66\x69\x67\133\x27\x73\145\x74\x74\151\156\147\47\x5d\133\x27\160\x72\157\x78\x79\47\135\133\x27\x61\165\x74\150\47\135\x20\75\x20\x27\x27\73"; return trim($cfg); } goto N3abm; nhYqB: exit(we7_error(0, $sitekey)); goto JBGLS; q3rRN: if (!empty($source_size)) { goto rSEJs; } goto FXPJ0; jJ8nc: JgpEW: goto IXQwn; Uh_EQ: goto rWcyo; goto gmy85; PXu4G: exit(we7_error(400, "\350\x8e\xb7\xe5\x8f\226\141\143\x63\145\163\163\164\157\x6b\145\156\345\xa4\xb1\xe8\264\xa5\xef\274\214\xe8\xaf\xb7\351\207\215\346\226\260\347\x99\xbb\345\xbd\x95\x2e")); goto Ar5j1; WbR9i: if (file_exists(IA_INSTALL_ROOT . "\57\144\x61\164\x61\x2f\144\x62\56\x6c\x6f\x63\x6b")) { goto Qi6ur; } goto eIUgk; Ar5j1: Z0KRD: goto GICly; GeIZF: require IA_INSTALL_ROOT . "\x2f\146\x72\141\x6d\145\167\x6f\162\153\x2f\x62\157\157\164\x73\164\162\x61\160\56\151\156\143\56\160\150\160"; goto UVRR8; hRi5I: $ret["\x66\x6f\x70\145\x6e"]["\x72\145\163\x75\x6c\164"] = "\xe4\xb8\x8d\346\x94\xaf\xe6\x8c\201\x66\157\x70\x65\x6e"; goto q0jqZ; STRPZ: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\143\157\144\145" => $code)); goto f9bFS; ZpZrf: $ret["\x75\160\x6c\x6f\x61\144"]["\146\141\151\x6c\145\144"] = true; goto uZ_dv; PMFk0: if ($registered_site == 1) { goto ExB5h; } goto sJO__; PZBwl: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\144\141\164\x61\x2f\x69\156\x73\x74\x61\154\154\x2e\x6c\x6f\143\x6b") && !$registered_site)) { goto IBzxj; } goto Fb6kx; BBL04: Y6ux0: goto mGnuc; u8yty: exit(we7_error(421, $handle_result)); goto yO9xc; HXEC1: $ret["\163\x65\163\163\151\x6f\x6e"]["\x6f\153"] = ini_get("\x73\145\x73\x73\x69\157\x6e\x2e\141\x75\164\x6f\137\163\x74\141\162\x74"); goto bGzdp; ek4HC: $ret["\146\157\x70\145\156"]["\157\x6b"] = @ini_get("\141\154\154\x6f\x77\x5f\165\162\x6c\x5f\x66\x6f\x70\145\x6e") && function_exists("\x66\x73\157\143\x6b\x6f\x70\145\x6e"); goto ZZVee; p2bRT: exit; goto PcksH; OUWhJ: define("\x41\x50\111\137\110\117\x53\124", "\x68\164\x74\160\72\x2f\57\x61\160\x69\56\167\67\x2e\x63\143"); goto uzT20; pK0xM: $download_size = filesize("\x2e\x2f\167\145\67\163\157\165\x72\x63\145\56\172\x69\160"); goto L5mx2; x8bwe: $ret["\141\163\x70\137\164\141\x67\x73"]["\162\x65\x73\165\154\164"] = "\x61\x73\x70\x5f\164\141\x67\163\xe5\xbc\x80\xe5\220\xaf\xe7\x8a\xb6\xe6\200\x81"; goto upEkc; Pr8Y4: $siteroot = htmlspecialchars(($is_https ? "\150\x74\x74\160\163\72\x2f\x2f" : "\150\x74\164\160\72\57\x2f") . (isset($_SERVER["\110\124\x54\x50\137\110\x4f\x53\x54"]) ? $_SERVER["\110\124\124\120\137\110\x4f\123\x54"] : '') . $sitepath); goto s3ssm; ixOME: define("\101\x50\111\x5f\117\x41\x55\x54\110\x5f\x4c\117\x47\x49\x4e\137\125\x52\x4c", API_HOST . "\57\157\x61\x75\x74\x68\x2f\154\157\147\151\156\x2d\165\162\154\57\x69\156\144\x65\x78"); goto u_597; qzdeI: qrbaI: goto zGEk8; jEBQO: exit; goto QzPne; KA1hq: exit(we7_error(0, $chunk_num)); goto wIAfM; q6s7A: if (!($handle_result !== true)) { goto Wkwo8; } goto u8yty; QbkN_: exit(we7_error(400, "\346\225\xb0\346\x8d\xae\351\x94\x99\350\257\xaf\56")); goto NigD1; HUJAE: if (feof($hostfile)) { goto N4AmG; } goto GihkN; SMccM: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\x61\x63\x63\x65\x73\163\137\x74\157\153\x65\156" => $accesstoken)); goto QNcGK; qMcCp: goto xp033; goto bJDvE; MCK25: exit(we7_error(433, "\141\x63\x63\145\163\x73\164\x6f\153\x65\156\x20\145\x78\x70\x69\x72\145\x64\56")); goto SV3zP; gNRzu: we7_handle_chunk(); goto zGsrz; r9My6: if (!(file_exists(IA_INSTALL_ROOT . "\x2f\144\x61\164\x61\57\x69\156\163\x74\141\154\154\x2e\154\157\x63\x6b") && !in_array($action, array("\157\141\165\x74\x68", "\x6c\157\x67\151\x6e", "\x67\145\x74\137\x73\x69\164\145\x6b\x65\x79")))) { goto YnVKm; } goto N1p_Q; Ia0pN: $ret["\x64\157\155"]["\x72\x65\x73\165\x6c\x74"] = "\346\262\241\xe6\234\211\xe5\220\xaf\347\224\xa8\104\x4f\115\x44\157\143\x75\155\x65\156\164"; goto NaIol; obKbs: fclose($hostfile); goto gNRzu; T3bJb: function we7_http_response_parse($data) { goto pRybe; jghxR: if (!($isgzip && function_exists("\147\x7a\144\145\x63\x6f\144\145"))) { goto GGs7Q; } goto PMCVl; HdR0f: $pos = strpos($data, "\15\xa\15\12"); goto J3kyP; abpPw: preg_match("\57\136\50\x5c\123\53\x29\x20\x28\x5c\123\53\51\x20\50\x2e\x2a\51\44\x2f", $split2[0], $matches); goto tZ0fr; kw8rG: Ef1d7: goto e0o6j; PMCVl: $rlt["\143\x6f\x6e\164\145\156\x74"] = gzdecode($rlt["\x63\157\x6e\x74\145\x6e\x74"]); goto Txy11; e0o6j: return $rlt; goto n3xmB; PFZhU: $rlt["\x73\x74\x61\164\165\x73"] = !empty($matches[3]) ? $matches[3] : "\117\113"; goto o6EIU; XyFUl: $header = explode("\15\xa", $split2[1]); goto tVfME; pRybe: $rlt = array(); goto HdR0f; tZ0fr: $rlt["\143\157\144\145"] = !empty($matches[2]) ? $matches[2] : 200; goto PFZhU; RMBm4: foreach ($header as $v) { goto rTCzY; rTCzY: $pos = strpos($v, "\72"); goto TADV1; iyA8G: Pcibi: goto IsgUC; Ll9Bf: if (!empty($rlt["\150\145\x61\144\145\x72\x73"][$key])) { goto dOB9D; } goto hovCQ; fXxVo: unset($rlt["\150\x65\141\x64\x65\162\x73"][$key]); goto S4mur; hovCQ: $rlt["\150\145\141\x64\x65\x72\163"][$key] = $value; goto E29FJ; G5RHF: if (is_array($rlt["\150\145\141\144\x65\x72\x73"][$key])) { goto VQLZ1; } goto Ll9Bf; RA8js: $rlt["\150\x65\x61\144\145\x72\x73"][$key][] = $value; goto rQfkQ; OMq6V: dOB9D: goto PcRTN; NNIqI: if (!(!$isgzip && strtolower($key) == "\x63\157\x6e\x74\145\x6e\x74\x2d\145\x6e\x63\x6f\x64\151\x6e\x67" && strtolower($value) == "\x67\172\x69\x70")) { goto hMtai; } goto QSt8Q; rQfkQ: goto lgGki; goto OMq6V; TADV1: $key = substr($v, 0, $pos); goto NlCWG; S4mur: $rlt["\x68\x65\141\144\x65\x72\x73"][$key][] = $temp; goto RswPp; XJDFQ: VQLZ1: goto RA8js; PcRTN: $temp = $rlt["\x68\x65\x61\x64\x65\x72\x73"][$key]; goto fXxVo; E29FJ: goto lgGki; goto XJDFQ; qmhJV: lgGki: goto NNIqI; NlCWG: $value = trim(substr($v, $pos + 1)); goto G5RHF; RswPp: $rlt["\x68\x65\x61\144\145\162\163"][$key][] = $value; goto qmhJV; QSt8Q: $isgzip = true; goto oWHXA; oWHXA: hMtai: goto iyA8G; IsgUC: } goto e5bCA; J3kyP: $split1[0] = substr($data, 0, $pos); goto q9t2r; e5bCA: hJsP0: goto Hpd13; Txy11: GGs7Q: goto VVitf; o6EIU: $rlt["\162\x65\163\160\x6f\156\163\145\x6c\151\156\145"] = !empty($split2[0]) ? $split2[0] : ''; goto XyFUl; O5fEK: if (!($rlt["\x63\157\x64\x65"] == "\x31\60\x30")) { goto Ef1d7; } goto RBuEd; q9t2r: $split1[1] = substr($data, $pos + 4, strlen($data)); goto ohs0z; tVfME: $isgzip = false; goto RMBm4; VVitf: $rlt["\155\x65\x74\x61"] = $data; goto O5fEK; RBuEd: return we7_http_response_parse($rlt["\143\157\x6e\164\x65\156\164"]); goto kw8rG; Hpd13: $rlt["\x63\157\156\x74\145\x6e\164"] = $split1[1]; goto jghxR; ohs0z: $split2 = explode("\15\12", $split1[0], 2); goto abpPw; n3xmB: } goto wu2q3; C9xxr: Kf2hi: goto SMccM; Hh5_a: $db_prefix = trim($_POST["\160\x72\145\146\x69\x78"]); goto JAoY_; YAOxf: FWOi2: goto P2hyL; Dqnq0: $is_https = $_SERVER["\123\105\122\x56\x45\122\x5f\x50\x4f\x52\124"] == 443 || isset($_SERVER["\x48\x54\x54\120\123"]) && strtolower($_SERVER["\110\x54\124\x50\x53"]) != "\x6f\x66\x66" || strtolower($_SERVER["\110\124\x54\x50\137\x58\137\106\x4f\x52\127\x41\x52\x44\x45\104\x5f\x50\x52\117\124\x4f"]) == "\150\164\164\x70\x73" || strtolower($_SERVER["\x48\124\x54\120\137\x58\137\103\x4c\111\x45\x4e\x54\137\x53\103\x48\105\115\x45"]) == "\x68\164\164\x70\163" ? true : false; goto X10Od; bSQQR: GLRgN: goto ARhjl; e9R8C: if (!($registered_site == 1)) { goto Kf2hi; } goto HBnFy; TM2lg: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto ExW25; bHWEG: $output = fread($hostfile, 8192); goto ql0Xl; Rfx_b: $action = trim($_GET["\x73\164\x65\160"]); goto pH7Un; xVeEe: if ($user_result) { goto JgpEW; } goto XpZ2k; w0QIe: $fh = fopen("\56\x2f\x77\x65\x37\163\x6f\165\162\x63\145\56\172\151\x70", "\167\142"); goto hdPNy; s3ssm: $cdn_source_file = "\x68\164\164\160\163\x3a\x2f\57\x63\144\156\56\167\x37\56\143\143\57\x64\157\x77\x6e\154\157\141\x64\x2f\x69\x6e\x73\164\x61\x6c\x6c\x2e\172\151\160\77\166\x3d" . time(); goto VzkQh; uhwCY: define("\101\x50\x49\137\107\x45\124\x5f\120\x41\103\113\x41\x47\x45\137\115\x44\x35\137\101\x4e\104\137\x43\110\x55\x4e\113\124\117\x54\101\114", API_HOST . "\57\x75\164\x69\x6c\57\160\141\143\x6b\141\147\145\57\x69\156\163\164\x61\154\154"); goto NeEPR; H7n50: exit(we7_error(432, "\350\257\xb7\345\205\x88\350\x8e\267\xe5\x8f\226\345\210\x86\xe5\x8d\xb7\346\x80\273\xe9\x87\x8f\56")); goto cGsMf; YD9YD: $filesize = filesize($filename); goto Im5bS; sjAmi: function we7_update_sitename($sitename) { goto dRDcB; dRDcB: global $accesstoken, $_W; goto Uza7a; B5JBv: goto m6xQy; goto ptrAd; vu7UA: return true; goto B5JBv; FWfL2: return "\347\xab\231\xe7\x82\xb9\xe4\277\xa1\xe6\x81\257\344\270\x8d\345\255\x98\xe5\234\250\357\xbc\214\350\257\267\xe9\207\215\xe6\x96\xb0\346\xb3\xa8\xe5\206\x8c\347\253\231\347\202\271\x2e"; goto m1cPj; nF1hg: m6xQy: goto e494r; XnM2y: $data = we7_request_api(API_UPDATE_SITENAME, array("\x61\143\143\x65\163\x73\137\164\157\x6b\145\x6e" => $accesstoken, "\163\151\164\145\x5f\x6e\x61\155\145" => $sitename, "\x73\x69\x74\x65\x5f\153\145\171" => $site_info["\163\151\164\145"]["\153\x65\x79"])); goto x5qND; m1cPj: sS5EM: goto XnM2y; vjegk: return $data["\145\x72\162\157\162"]; goto nF1hg; ptrAd: JnBgF: goto vjegk; x5qND: if (is_array($data) && isset($data["\145\x72\x72\157\162"])) { goto JnBgF; } goto vu7UA; Uza7a: $site_info = setting_load("\x73\x69\x74\145"); goto zGu1c; zGu1c: if (!(empty($site_info["\x73\151\164\x65"]) || empty($site_info["\163\151\x74\145"]["\153\145\x79"]))) { goto sS5EM; } goto FWfL2; e494r: } goto Rln74; ea2pE: LH6p5: goto j2SOd; abLSt: if ($ret["\x64\141\x74\141"]["\x6f\x6b"]) { goto z4BXs; } goto uEAmY; uznAL: if (!(!empty($ret["\141\163\160\x5f\164\x61\147\x73"]["\x6f\153"]) && strtolower($ret["\x61\163\x70\137\164\141\x67\x73"]["\157\x6b"]) == "\x6f\156")) { goto s8xwC; } goto j3AxL; MTQcW: function we7_network_enable($host) { goto QdQA8; KLqiA: $if_local_network10 = preg_match("\57\x5e\x31\x30\134\56\50\x31\x5c\144\173\x32\x7d\x7c\x32\x5b\60\55\x34\135\134\x64\x7c\x32\65\x5b\60\x2d\65\135\174\x5b\61\x2d\71\x5d\x5c\x64\x7c\134\144\51\x5c\x2e\x28\61\134\144\173\x32\175\x7c\62\133\60\x2d\64\x5d\134\x64\x7c\x32\x35\133\60\x2d\x35\135\x7c\x5b\61\55\71\135\134\x64\x7c\134\144\51\x5c\56\50\61\x5c\x64\173\x32\x7d\x7c\x32\x5b\x30\x2d\64\x5d\134\x64\x7c\x32\65\133\x30\x2d\x35\x5d\174\133\61\55\x39\x5d\x5c\x64\x7c\134\x64\51\x24\x2f", $host); goto HI_Xj; daXSG: $if_local_network172 = preg_match("\x2f\x5e\61\67\x32\134\x2e\50\x31\133\66\55\71\135\174\62\x5b\60\55\x39\135\174\63\133\x30\55\61\x5d\51\134\x2e\50\61\134\x64\173\x32\x7d\174\x32\x5b\60\55\64\x5d\x5c\144\x7c\x32\x35\133\x30\55\x35\x5d\x7c\x5b\61\55\x39\135\x5c\144\174\134\144\x29\x5c\56\x28\61\134\x64\x7b\x32\175\x7c\x32\133\x30\x2d\64\x5d\134\144\174\62\65\x5b\x30\x2d\x35\x5d\174\x5b\x31\55\71\x5d\x5c\144\174\x5c\x64\x29\44\x2f", $dns_record[0]["\x69\x70"]); goto hKxPc; QvGpd: if (!$if_local_network172) { goto TiEp4; } goto k2W5H; HI_Xj: if (!$if_local_network10) { goto AZStj; } goto cXUa2; HRVx1: AZStj: goto CF4Ui; k2W5H: return false; goto Fjf2i; Wp0rE: $dns_record = dns_get_record($host, DNS_A); goto TUKyP; Jnola: VjzJI: goto rSNUS; cXQgl: $if_local_network192 = preg_match("\57\x5e\x31\x39\62\134\56\61\x36\70\x5c\x2e\50\61\134\144\173\x32\175\x7c\62\x5b\x30\x2d\x34\x5d\x5c\x64\x7c\x32\x35\x5b\x30\x2d\65\135\174\x5b\61\55\71\x5d\x5c\144\174\x5c\144\x29\x5c\x2e\x28\61\134\x64\x7b\x32\175\174\x32\x5b\x30\x2d\64\x5d\x5c\144\174\62\65\x5b\60\55\65\135\174\x5b\61\x2d\x39\x5d\134\144\x7c\x5c\x64\x29\44\x2f", $dns_record[0]["\x69\160"]); goto vg6sf; cXUa2: return false; goto HRVx1; ZvCqW: return false; goto g0qrC; CYbQq: return false; goto iwaqh; VsjUA: if (!$if_local_network192) { goto bwUa8; } goto CYbQq; xXiGF: VHpDE: goto c3zoQ; Fjf2i: TiEp4: goto t1953; hKxPc: if (!$if_local_network172) { goto e54ki; } goto OGC31; E7_Kg: return false; goto xXiGF; CF4Ui: $if_local_network172 = preg_match("\x2f\x5e\61\x37\x32\x5c\56\50\x31\x5b\66\x2d\x39\x5d\174\x32\x5b\60\x2d\71\x5d\x7c\63\x5b\60\x2d\61\x5d\51\x5c\x2e\x28\x31\x5c\x64\x7b\x32\x7d\x7c\62\x5b\60\x2d\64\x5d\x5c\144\174\62\x35\133\60\x2d\65\135\x7c\133\61\55\71\135\134\x64\174\x5c\x64\x29\x5c\x2e\50\x31\x5c\144\x7b\62\175\174\x32\x5b\60\x2d\x34\135\x5c\x64\174\62\65\133\x30\55\65\135\174\x5b\61\55\x39\x5d\134\x64\174\134\144\51\x24\57", $host); goto QvGpd; oZNtD: sBAMG: goto KLqiA; iwaqh: bwUa8: goto Jnola; E9IQ6: if ($httphost_is_ip) { goto sBAMG; } goto Wp0rE; TUKyP: if (!(empty($dns_record) || empty($dns_record[0]["\151\160"]) || $dns_record[0]["\151\160"] == "\x31\62\67\x2e\60\56\60\56\61" || strpos($dns_record[0]["\151\x70"], "\x31\x30\x2e") === 0)) { goto jaana; } goto j2Qwo; fmtkK: $httphost_is_ip = preg_match("\57\136\x28\61\134\144\173\62\x7d\x7c\62\x5b\60\55\x34\135\134\x64\x7c\x32\x35\x5b\60\x2d\x35\135\174\x5b\x31\55\x39\135\x5c\x64\174\133\61\55\71\135\51\134\56\x28\x31\x5c\x64\173\x32\175\x7c\62\x5b\x30\55\x34\x5d\134\x64\x7c\62\x35\133\x30\55\x35\x5d\174\133\61\x2d\71\135\x5c\144\174\x5c\x64\51\134\56\x28\x31\134\x64\x7b\x32\175\x7c\62\133\x30\55\64\x5d\x5c\144\x7c\62\x35\133\x30\55\x35\135\x7c\133\61\x2d\x39\135\134\x64\x7c\x5c\x64\51\x5c\x2e\50\61\x5c\x64\x7b\x32\175\x7c\62\x5b\60\55\x34\135\x5c\x64\x7c\62\65\133\x30\x2d\65\x5d\174\x5b\61\x2d\x39\x5d\x5c\144\x7c\x5c\144\x29\44\x2f", $host); goto E9IQ6; rSNUS: return true; goto aLgjp; S23U7: jaana: goto daXSG; g0qrC: WGKCr: goto fmtkK; buN8i: e54ki: goto cXQgl; c3zoQ: goto VjzJI; goto oZNtD; QdQA8: if (!empty($host)) { goto WGKCr; } goto ZvCqW; j2Qwo: return false; goto S23U7; vg6sf: if (!$if_local_network192) { goto VHpDE; } goto E7_Kg; OGC31: return false; goto buN8i; t1953: $if_local_network192 = preg_match("\x2f\x5e\x31\x39\62\x5c\x2e\x31\x36\70\x5c\x2e\x28\61\x5c\144\173\x32\175\x7c\62\133\x30\x2d\64\x5d\x5c\144\x7c\x32\65\x5b\60\55\x35\x5d\x7c\x5b\61\x2d\x39\x5d\134\144\174\x5c\x64\51\134\x2e\x28\61\134\x64\x7b\x32\175\174\62\x5b\60\x2d\x34\x5d\134\144\x7c\x32\65\x5b\x30\x2d\x35\135\x7c\133\61\x2d\x39\x5d\x5c\144\174\134\x64\x29\x24\57", $host); goto VsjUA; aLgjp: } goto KewX6; H01vh: UZFW5: goto qS3fb; qv7Os: foreach (we7_need_extension() as $extension) { goto d3AQa; d3AQa: $if_ok = extension_loaded($extension); goto g9wyk; pKMPl: $ret[$extension]["\146\x61\x69\154\145\144"] = true; goto fBmjC; fBmjC: $ret[$extension]["\156\x61\x6d\145"] = $extension . "\346\211\xa9\345\261\x95"; goto ZpNZz; ZpNZz: $ret[$extension]["\x72\145\163\165\x6c\164"] = "\344\270\x8d\346\224\xaf\xe6\x8c\201" . $extension; goto F_9sl; zzCxp: j0dGE: goto v5B9n; g9wyk: if ($if_ok) { goto UGKyh; } goto pKMPl; F_9sl: UGKyh: goto zzCxp; v5B9n: } goto NKhQY; IOaER: function local_writeable($dir) { goto woy9h; Axmpr: if ($fp = fopen("{$dir}\57\164\145\163\x74\x2e\164\x78\164", "\x77")) { goto czsE9; } goto jeQBZ; eT1vU: fclose($fp); goto AFWxI; B0cyx: return $writeable; goto VWvNO; woy9h: $writeable = 0; goto S77gQ; din99: czsE9: goto eT1vU; AFWxI: unlink("{$dir}\x2f\x74\145\x73\164\x2e\x74\x78\164"); goto iNO5C; WmtTg: XGhj8: goto B0cyx; iNO5C: $writeable = 1; goto b1CXn; S77gQ: if (is_dir($dir)) { goto G4fD8; } goto O3e_w; jeQBZ: $writeable = 0; goto FyMPk; FyMPk: goto kjCtx; goto din99; b1CXn: kjCtx: goto WmtTg; O3e_w: @mkdir($dir, 0777); goto GuIR6; GuIR6: G4fD8: goto dSkMW; dSkMW: if (!is_dir($dir)) { goto XGhj8; } goto Axmpr; VWvNO: } goto g2BcX; ElGvO: $chunk_num = max(1, intval($_POST["\143\150\165\156\x6b"])); goto ONlYz; Ksxye: kpnhM: goto tm2UJ; VLDpE: fclose($hostfile); goto Qi7cn; sFI6Y: lyPLJ: goto QtIlD; g74lr: N4AmG: goto obKbs; RqkZw: $ret["\x73\145\163\163\x69\157\156"]["\156\x61\x6d\x65"] = "\x73\145\163\163\x69\x6f\x6e\x2e\141\165\164\x6f\x5f\163\x74\141\x72\164\xe5\xbc\x80\xe5\x90\257"; goto czTJS; QzPne: YnVKm: goto Dqnq0; zGsrz: avSNh: goto KA1hq; IF08l: QfQAI: goto McCiv; mjfMl: function we7_handle_chunk() { goto inqbU; LD_iD: if (!file_exists($tmpfile)) { goto BNtgE; } goto rJhJP; JaZCV: zCNMN: goto MDekZ; Bjb2F: $zip->close(); goto MxUCf; l1owf: return $result; goto Steuo; HvB55: $result = false; goto LD_iD; QS0r0: if (!($res === TRUE)) { goto zCNMN; } goto dJhdh; inqbU: $tmpfile = "\56\57\167\145\67\163\x6f\x75\162\x63\145\56\172\x69\160"; goto HvB55; dJhdh: $zip->extractTo(IA_INSTALL_ROOT); goto Bjb2F; MDekZ: BNtgE: goto l1owf; HBTSR: $res = $zip->open($tmpfile); goto QS0r0; MxUCf: $result = true; goto JaZCV; rJhJP: $zip = new ZipArchive(); goto HBTSR; Steuo: } goto gJgng; Qqcu2: $actions = array("\x63\150\145\x63\x6b\x5f\163\x69\164\145", "\x6f\x61\x75\x74\150", "\x65\156\166\151\x72\157\156\155\145\x6e\x74", "\x69\x6e\x73\164\141\x6c\x6c", "\x63\150\x75\156\153\164\157\164\141\x6c", "\144\157\167\156\x6c\x6f\141\144\x5f\x70\145\x72\143\x65\x6e\x74", "\x64\157\167\156\154\157\x61\144", "\151\x6e\x73\x74\141\154\x6c", "\162\x65\x67\151\x73\164\145\162\137\x63\141\154\x6c\x62\141\143\x6b", "\154\x6f\x67\151\156", "\147\x65\x74\x5f\x73\151\164\x65\x6b\x65\171"); goto Rfx_b; mGnuc: sgBVj: goto f80So; Yw9l9: SuixS: goto DKq_5; LVJ5r: goto avSNh; goto aHQJH; McUGi: mb1mz: goto VXcQO; tJpXM: $ret["\x61\x6c\167\x61\171\163\137\x70\157\160\165\154\141\x74\x65\x5f\162\141\x77\137\x70\x6f\163\164\x5f\144\141\164\141"]["\156\141\x6d\145"] = "\x61\154\167\141\171\163\x5f\x70\157\x70\x75\154\x61\x74\145\137\162\141\x77\x5f\x70\157\x73\x74\x5f\144\141\x74\141\xe9\x85\x8d\xe7\275\256"; goto GvnRS; tXx8e: $result = array(); goto FbrmB; Rzdlf: z4BXs: goto qv7Os; xm8Ej: ob_start(); goto pbtcr; LfoAr: we7_setcookie("\143\x68\x75\156\x6b\137\164\157\x74\x61\154", $data["\x63\150\165\x6e\x6b\137\x74\157\164\141\x6c"]); goto D7lVs; iaB97: if (!($server["\165\x70\x6c\157\x61\144"] == "\165\x6e\153\x6e\x6f\167" || !strstr($server["\x75\x70\154\x6f\141\x64"], "\x6d"))) { goto UZFW5; } goto ZpZrf; XJ_Db: if (!empty($data)) { goto aaWto; } goto tXdzZ; wK4ob: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\x61\x70\x70\151\x64" => "\x77\x62\x39\x33\x39\146\141\x35\71\145\x30\x61\x31\x38\71\144\65\x66", "\x72\x65\144\151\162\x65\x63\164" => $callback)); goto ibc9U; MImJl: xp033: goto MqX7A; IfEB0: if (!empty($data) && $data["\x73\x74\141\x74\x75\163"] == 1) { goto qqa9h; } goto NIUhY; NeEPR: define("\101\120\111\137\x47\105\124\137\x43\x48\x55\x4e\x4b\x5f\120\101\103\x4b\101\x47\105", API_HOST . "\x2f\x75\x74\x69\x6c\57\x70\141\143\153\141\x67\145\x2f\x69\156\x73\164\141\x6c\x6c"); goto N4IBz; tz3gk: mzFkv: goto YAOxf; iLu2E: ze4C4: goto Kz3Bs; ZZVee: if ($ret["\146\157\160\145\x6e"]["\x6f\153"]) { goto dbWjf; } goto HV5NJ; UDae9: exit(we7_error(0, "\x73\x75\x63\x63\x65\x73\163")); goto q0Gim; CAjQ4: if (!($finished === true)) { goto tpzyP; } goto bWwdt; FNAf1: function we7_finish() { goto WtNdA; I2eCW: LdZZE: goto B6ZGR; Tf62R: $i = 1; goto I2eCW; VouHS: @unlink(IA_INSTALL_ROOT . "\x2f\151\156\151\x74\56\x73\150"); goto ViiwU; J3Xh7: @unlink(IA_INSTALL_ROOT . "\57\144\141\164\x61\57\144\142\56\x6c\157\x63\153"); goto ChS7X; lt_Pe: load()->model("\163\145\x74\x74\151\156\x67"); goto BlfyQ; o3D8w: cache_build_frame_menu(); goto VDgar; yteMZ: goto LdZZE; goto T7YBB; gZ01j: $i++; goto yteMZ; w63aG: @unlink(IA_INSTALL_ROOT . "\57\x64\141\164\x61\x2f\x64\142\56\160\150\x70"); goto J3Xh7; T7YBB: lHXQ7: goto ZX9PC; l_xTw: load()->web("\164\x65\x6d\160\x6c\141\164\x65"); goto lt_Pe; YMLKg: return true; goto Omh75; KDnCs: cache_build_users_struct(); goto o4pUP; ViiwU: @unlink(IA_INSTALL_ROOT . "\57\x63\x68\x61\x6e\x67\145\x2e\x73\x68"); goto naRGn; WtNdA: global $_W, $siteroot; goto sPfXp; BlfyQ: load()->model("\143\141\x63\150\x65"); goto wFi3r; SN6Kn: @unlink("\56\x2f\143\150\165\156\153\x5f" . $i); goto R7pHr; eLK1x: setting_upgrade_version(we7_getcookie("\151\x6d\x73\137\x66\x61\x6d\x69\154\x79"), IMS_VERSION, IMS_RELEASE_DATE); goto Mmdbs; BDCuj: we7_setcookie("\x63\150\165\x6e\153\x5f\x74\x6f\x74\x61\x6c", '', -10); goto w63aG; R7pHr: YP9iW: goto gZ01j; wFi3r: load()->model("\143\x6c\x6f\165\x64"); goto eLK1x; o4pUP: cache_build_module_subscribe_type(); goto YMLKg; naRGn: define("\111\x4e\x5f\123\131\x53", true); goto TKnmr; gn1gi: we7_request_api(API_OAUTH_RESET_SITEINFO, array("\165\x72\x6c" => $siteroot, "\x69\156\163\x74\141\x6c\x6c" => 1)); goto o3D8w; Mmdbs: we7_setcookie("\x69\x6d\x73\137\146\141\155\151\154\171", '', -10); goto gn1gi; VDgar: cache_build_setting(); goto KDnCs; ChS7X: @unlink(IA_INSTALL_ROOT . "\57\x63\x6f\x6e\x73\157\x6c\145\56\160\150\160"); goto VouHS; TKnmr: require IA_INSTALL_ROOT . "\57\146\162\141\155\x65\167\x6f\x72\153\x2f\142\x6f\157\x74\163\x74\x72\x61\x70\x2e\x69\156\x63\56\x70\150\160"; goto Tn_vJ; zUAi1: $_W["\x75\x69\144"] = $_W["\151\x73\146\x6f\x75\156\x64\x65\x72"] = 1; goto fWLla; ZX9PC: we7_setcookie("\x70\x61\143\153\x61\x67\145\137\x6d\144\x35", '', -10); goto BDCuj; B6ZGR: if (!($i <= $chunk_num)) { goto lHXQ7; } goto SN6Kn; Tn_vJ: require IA_INSTALL_ROOT . "\x2f\167\x65\x62\57\143\157\x6d\155\x6f\156\57\142\x6f\157\x74\x73\x74\x72\141\x70\56\x73\171\x73\x2e\151\x6e\143\x2e\160\150\x70"; goto zUAi1; sPfXp: $chunk_num = we7_getcookie("\143\150\165\156\153\x5f\x74\x6f\x74\141\x6c"); goto ulF7k; fWLla: load()->web("\143\157\x6d\155\157\x6e"); goto l_xTw; ulF7k: @unlink("\56\x2f\x77\x65\x37\163\x6f\165\x72\x63\x65\x2e\172\x69\160"); goto Tf62R; Omh75: } goto XekNg; pbtcr: define("\111\101\x5f\x49\116\123\x54\101\114\114\137\x52\x4f\117\x54", str_replace("\134", "\x2f", dirname(__FILE__))); goto NfHxz; X5uqU: $ret["\144\141\x74\x61"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT . "\x2f\144\141\164\x61"); goto abLSt; Xcs2O: $forward = $data["\x75\x72\x6c"]; goto BdSbZ; uzT20: define("\101\x50\x49\x5f\x53\x49\124\105\x5f\122\105\107\111\123\124\105\x52\x5f\105\x58\x49\123\x54", API_HOST . "\57\163\151\x74\x65\x2f\x72\145\x67\151\163\164\x65\162\x2f\145\x78\x69\x73\164"); goto ixOME; hdPNy: CBsgX: goto cRKMa; ttauK: exit(we7_error(0, $chunk_num)); goto qzdeI; EwGox: if (empty($code)) { goto TjhBX; } goto STRPZ; sHzC5: IBzxj: goto wRKJ1; BdSbZ: header("\114\x6f\x63\141\164\x69\x6f\x6e\72\40" . $forward); goto jdAck; jU39e: $ret["\146\x6f\160\145\156"]["\156\x61\x6d\x65"] = "\x66\x6f\x70\145\x6e"; goto hRi5I; XYPyG: define("\111\116\x5f\123\x59\x53", true); goto GuG0o; wIAfM: if (!($chunk_num > $chunk_total)) { goto LH6p5; } goto vRmVi; GihkN: $output = fread($hostfile, 8192); goto knuuz; MXVI6: touch(IA_INSTALL_ROOT . "\x2f\x64\x61\x74\x61\x2f\x64\x62\x2e\x6c\157\143\x6b"); goto WXtNp; cRKMa: if (feof($hostfile)) { goto O5Wpc; } goto bHWEG; XVdJY: exit(we7_error(0, "\x73\x75\143\x63\x65\x73\x73")); goto bSQQR; L8CMG: $callback = urlencode($url); goto wK4ob; oHGuz: function we7_setcookie($key, $value) { goto KyuGZ; JsbQz: $value = json_encode($value); goto f0GFn; KyuGZ: $secure = $_SERVER["\123\105\x52\x56\x45\x52\x5f\120\x4f\x52\x54"] == 443 ? 1 : 0; goto gGjce; gGjce: if (!is_array($value)) { goto wiQ1e; } goto JsbQz; gPQJM: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto RBDXr; f0GFn: wiQ1e: goto gPQJM; RBDXr: } goto PzGXv; V8oYj: $server = trim($_POST["\x73\x65\x72\166\145\x72"]); goto yW3JH; CFYN4: $hostfile = fopen($cdn_source_file, "\162\x62"); goto AVOSK; bJDvE: iK72k: goto g9A62; D0PAu: define("\x49\x4e\137\x53\x59\123", true); goto GeIZF; m7CXP: goto u9XE5; goto So1us; BaJxr: $ret["\x64\141\x74\x61"]["\x72\145\163\165\154\164"] = "\144\141\164\x61\347\x9b\256\345\xbd\225\346\227\240\346\xb3\x95\345\x86\x99\345\205\245"; goto Rzdlf; HBnFy: we7_setcookie("\x63\x68\x75\156\x6b\x5f\164\x6f\x74\x61\x6c", 1); goto Duz32; FbrmB: foreach ($ret as $key => $value) { goto RisBM; RisBM: if (!(version_compare(PHP_VERSION, "\x37\56\60\x2e\x30") >= 0 && in_array($key, array("\155\x63\x72\x79\160\x74", "\141\x6c\167\141\171\x73\x5f\160\157\x70\165\154\141\x74\145\137\162\141\167\x5f\160\157\x73\164\137\x64\x61\x74\x61")))) { goto wadK7; } goto dDWKe; dDWKe: goto fyJ_N; goto GExpV; K41AM: g4Cxu: goto vcy2Q; OAMym: $value["\150\x61\x6e\x64\x6c\145"] = !empty($value["\150\141\156\x64\154\145"]) ? $value["\150\x61\156\144\x6c\x65"] : "\x68\164\x74\160\72\57\x2f\x73\x2e\x77\67\56\x63\143\x2f\167\157\x2f\x70\x72\157\x62\x6c\x65\155\57\64\x36"; goto jbuL3; jbuL3: $result[] = $value; goto K41AM; vS68N: if (!$value["\146\141\x69\154\145\144"]) { goto g4Cxu; } goto OAMym; vcy2Q: fyJ_N: goto e7_0T; GExpV: wadK7: goto vS68N; e7_0T: } goto yuVQC; Z7L9B: function local_create_sql($schema, $local_create_sql) { goto i6JYX; mSjME: foreach ($schema["\151\156\x64\x65\x78\x65\163"] as $value) { goto gA6N7; aEC4k: if (!($value["\x74\x79\x70\x65"] == "\160\x72\x69\155\141\x72\x79")) { goto uGjYC; } goto K_mOd; pY0CR: if (!($value["\164\x79\x70\x65"] == "\x75\156\151\x71\x75\x65")) { goto Qnj7w; } goto EYZNJ; SXwPQ: QscDD: goto pY0CR; af794: if (!($value["\164\171\x70\145"] == "\151\x6e\144\145\x78")) { goto QscDD; } goto qaq8m; E9MPf: uGjYC: goto paQDj; EYZNJ: $sql .= "\x55\116\111\121\x55\x45\40\x4b\x45\131\40\140{$value["\x6e\141\155\x65"]}\x60\x20\x28\x60{$fields}\x60\51\54\xa"; goto j6bjE; qaq8m: $sql .= "\113\105\131\x20\x60{$value["\156\141\x6d\145"]}\140\x20\x28\140{$fields}\140\51\54\12"; goto SXwPQ; paQDj: Uh4fx: goto cL0Yg; gA6N7: $fields = implode("\x60\54\x60", $value["\146\x69\145\x6c\x64\163"]); goto af794; j6bjE: Qnj7w: goto aEC4k; K_mOd: $sql .= "\x50\x52\111\115\x41\x52\x59\x20\113\x45\x59\x20\x28\x60{$fields}\x60\x29\54\xa"; goto E9MPf; cL0Yg: } goto LY8pZ; GxMxR: $charset = $pieces[0]; goto IZNUx; KyiXF: xs8LX: goto mSjME; XGbq5: $sql = "\103\122\x45\101\124\x45\40\124\101\x42\x4c\x45\x20\111\106\40\x4e\117\124\40\x45\x58\x49\x53\x54\x53\x20\x60{$schema["\164\x61\x62\154\145\x6e\141\x6d\145"]}\140\40\x28\xa"; goto Z5JEB; LY8pZ: NDkLd: goto PDCMN; PDCMN: $sql = rtrim($sql); goto o_m2n; p2EhY: return $sql; goto gua2R; uewaQ: $sql .= "\xa\51\x20\105\x4e\x47\111\116\105\x3d{$engine}\40\104\105\x46\x41\125\114\124\40\103\110\101\122\123\105\124\x3d{$charset}\73\xa\xa"; goto p2EhY; Z5JEB: foreach ($schema["\x66\151\x65\x6c\x64\163"] as $value) { goto qwwHl; PC2YY: $signed = empty($value["\x73\151\x67\156\x65\x64"]) ? "\x20\x75\156\x73\151\147\156\145\x64" : ''; goto oOXPM; qwnZo: $length = "\x28{$value["\x6c\x65\x6e\x67\x74\150"]}\51"; goto aaes0; u0Cs0: goto fYJtl; goto oriuq; q6QoY: goto MtzA7; goto a57gz; YUkJX: $default = "\x20\104\x45\x46\x41\125\114\x54\x20\x27" . $value["\144\x65\146\x61\x75\154\164"] . "\x27"; goto PR6BE; oriuq: Jx84n: goto hBbRx; aaes0: T5jYL: goto PC2YY; a57gz: O3u7f: goto oOZOu; flcOq: tFayF: goto YUkJX; zP1fi: $default = ''; goto XQ8WZ; hBbRx: $null = "\40\116\117\x54\40\116\x55\x4c\x4c"; goto ONwoX; XQ8WZ: goto a0Da1; goto flcOq; ijSxU: $sql .= "\x60{$value["\x6e\x61\155\x65"]}\140\x20{$value["\164\171\160\x65"]}{$length}{$signed}{$null}{$default}{$increment}\54\xa"; goto rrFUP; ONwoX: fYJtl: goto Vx_hz; faMjK: MtzA7: goto ijSxU; oOXPM: if (empty($value["\156\x75\x6c\x6c"])) { goto Jx84n; } goto Aam7h; qkV1A: $length = ''; goto j13zC; RtMY8: if ($value["\151\x6e\143\x72\145\155\x65\156\x74"]) { goto O3u7f; } goto yuJkF; Aam7h: $null = ''; goto u0Cs0; rrFUP: iewag: goto Um1Wq; qwwHl: if (!empty($value["\154\145\156\147\164\150"])) { goto dALrn; } goto qkV1A; yuJkF: $increment = ''; goto q6QoY; EDDqG: dALrn: goto qwnZo; PR6BE: a0Da1: goto RtMY8; Vx_hz: if (isset($value["\144\145\x66\141\x75\x6c\x74"])) { goto tFayF; } goto zP1fi; j13zC: goto T5jYL; goto EDDqG; oOZOu: $increment = "\x20\x41\125\x54\117\x5f\111\x4e\x43\x52\x45\115\x45\x4e\124"; goto faMjK; Um1Wq: } goto KyiXF; i6JYX: $pieces = explode("\x5f", $schema["\143\x68\x61\x72\163\x65\x74"]); goto GxMxR; o_m2n: $sql = rtrim($sql, "\x2c"); goto uewaQ; IZNUx: $engine = $local_create_sql ? $schema["\145\156\147\x69\x6e\x65"] : "\x4d\171\x49\123\x41\x4d"; goto XGbq5; gua2R: } goto ScNHc; loD8q: kMRET: goto LVJ5r; aMAsn: function local_run($sql, $link, $db) { goto ikiRg; Spry_: tujqV: goto DPc3F; ikiRg: if (!(!isset($sql) || empty($sql))) { goto LZdgb; } goto mnCIs; AHmpc: $num = 0; goto ll8QA; mnCIs: return; goto K3ina; iOdGX: $sql = str_replace("\xd", "\12", str_replace("\40\x69\x6d\163\x5f", "\x20" . $db["\160\x72\x65\146\x69\x78"], $sql)); goto J6b25; Lr3J5: foreach ($ret as $query) { goto bovYq; LyHA9: if (!$query) { goto J7hpn; } goto FEJgi; FEJgi: $link->exec($query); goto Bzmmc; Bzmmc: if (!($link->errorCode() != "\60\60\60\60\60")) { goto Z6Tcl; } goto GyBNU; Lwo7N: echo $errorInfo[0] . "\x3a\40" . $errorInfo[2] . "\74\142\162\40\x2f\76"; goto oNEl5; BS0sx: Z6Tcl: goto JZ7Ci; GyBNU: $errorInfo = $link->errorInfo(); goto Lwo7N; oNEl5: exit($query); goto BS0sx; nOFgm: SLo9Z: goto Jf962; JZ7Ci: J7hpn: goto nOFgm; bovYq: $query = trim($query); goto LyHA9; Jf962: } goto G7D27; ll8QA: foreach (explode("\73\xa", trim($sql)) as $query) { goto mp48U; g3ozE: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\x23" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\55\55" ? '' : $query; k1KmZ: } goto AWV6J; mp48U: $ret[$num] = ''; goto LOor2; K1AEo: $num++; goto wDlrg; wDlrg: hbLXs: goto uMUCv; AWV6J: CuXRL: goto K1AEo; LOor2: $queries = explode("\12", trim($query)); goto g3ozE; uMUCv: } goto Spry_; DPc3F: unset($sql); goto Lr3J5; G7D27: ek9H0: goto hs0ub; Odk55: $ret = array(); goto AHmpc; K3ina: LZdgb: goto iOdGX; J6b25: $sql = str_replace("\15", "\12", str_replace("\x20\140\x69\155\163\137", "\40\140" . $db["\x70\x72\145\146\x69\x78"], $sql)); goto Odk55; hs0ub: } goto Z7L9B; NGiay: rWcyo: goto QexIO; u_597: define("\x41\120\111\x5f\117\x41\x55\x54\110\x5f\x41\x43\103\x45\123\x53\x54\117\x4b\105\x4e", API_HOST . "\x2f\157\141\x75\x74\150\57\141\143\x63\145\163\x73\55\x74\157\153\145\156\57\143\x6f\144\x65"); goto uhwCY; T21iA: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\57\x63\150\165\x6e\x6b\x5f" . $i); goto T7lwV; N8NyB: function we7_register_site() { goto l7Mlf; Vre9z: return $data["\x65\x72\x72\x6f\162"]; goto ncTeD; AQ1IJ: $release = IMS_RELEASE_DATE; goto r0UxY; HsZwr: $post = array("\141\x63\x63\145\x73\x73\x5f\x74\157\x6b\145\x6e" => $accesstoken, "\x6e\x61\155\145" => $siteroot . "\xe7\232\x84\347\xab\x99\347\202\271", "\x75\162\x6c" => $siteroot, "\x76\x65\x72\163\x69\157\x6e" => $version, "\x72\145\x6c\145\x61\163\x65" => $release, "\x63\141\154\154\142\x61\x63\x6b" => $callback, "\x69\156\163\x74\x61\x6c\154\x5f\164\171\x70\x65" => 1); goto Un6Ar; mVjp2: goto CRenr; goto leLqz; wpcaA: require IA_INSTALL_ROOT . "\x2f\x66\x72\x61\155\x65\x77\157\x72\x6b\57\x76\x65\162\x73\151\157\156\x2e\x69\x6e\143\56\160\150\160"; goto va5Z9; kQQ4H: return true; goto mVjp2; leLqz: Q5ZYz: goto Vre9z; l7Mlf: global $siteroot, $accesstoken; goto BRFxo; BRFxo: define("\111\116\137\x49\x41", true); goto wpcaA; r0UxY: $callback = urlencode($siteroot . "\x2f\x69\x6e\163\x74\141\154\x6c\x2e\x70\150\160\77\x73\x74\145\x70\x3d\x72\145\147\x69\x73\164\x65\162\137\143\x61\x6c\154\142\x61\x63\x6b"); goto HsZwr; va5Z9: $version = IMS_VERSION; goto AQ1IJ; ncTeD: CRenr: goto MEIkI; Un6Ar: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto W7H8E; W7H8E: if (is_array($data) && isset($data["\x65\162\x72\x6f\162"])) { goto Q5ZYz; } goto kQQ4H; MEIkI: } goto Tm6oD; BWuxz: $sitepath = str_replace("\x2f\x69\x6e\163\164\x61\154\154\56\x70\150\160", '', $sitepath); goto Pr8Y4; j3AxL: $ret["\141\163\160\137\164\141\x67\163"]["\x66\x61\x69\154\145\x64"] = true; goto ggwka; Im5bS: if (!(file_exists($filename) && !empty($filesize))) { goto Om64s; } goto TH1m5; GrSzv: goto yexHy; goto g74lr; ql0Xl: fwrite($fh, $output); goto vIP23; D7cmm: we7_setcookie("\x63\x64\x6e\x5f\x73\157\165\x72\143\x65\137\163\x69\x7a\145", $source_size); goto H8_Vb; cGsMf: Ub6ke: goto PMFk0; H2ux1: if (!(empty($accesstoken) && !$registered_site && $action != "\162\145\147\151\163\164\145\x72\137\x63\x61\154\x6c\142\141\143\x6b")) { goto QYqBP; } goto f291f; JPd8G: iDQ8W: goto UDae9; XekNg: function we7_http_request($url, $post = array()) { goto h3vKz; eO06z: X7Et8: goto omeYf; xTlcC: EebGq: goto anDvt; nt1SH: $errno = curl_errno($ch); goto CIaVk; Hdvqn: if ($errno || empty($data)) { goto mh_6G; } goto AsE01; iOV2Y: curl_setopt($ch, CURLOPT_HEADER, 1); goto I_9PC; iLJdv: curl_setopt($ch, CURLOPT_POST, 1); goto UvYfT; h3vKz: $ch = curl_init(); goto PGGVi; LBAmG: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto iOV2Y; I_9PC: if (!$post) { goto EebGq; } goto iLJdv; Q0wn5: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto ky1qw; sw0Nw: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\x48\124\124\120\137\x55\123\105\122\x5f\101\107\x45\x4e\124"]); goto U1xxO; qAx9X: goto X7Et8; goto eLYi9; ky1qw: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto woRAv; HBoSc: curl_close($ch); goto Hdvqn; U1xxO: $data = curl_exec($ch); goto nt1SH; anDvt: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto Q0wn5; CIaVk: $error = curl_error($ch); goto HBoSc; kAYf1: return array("\145\x72\x72\x6e\x6f" => $errno, "\x65\x72\x72\x6f\162" => $error); goto eO06z; UvYfT: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto xTlcC; oncVG: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto LBAmG; AsE01: return we7_http_response_parse($data); goto qAx9X; PGGVi: curl_setopt($ch, CURLOPT_URL, $url); goto oncVG; eLYi9: mh_6G: goto kAYf1; woRAv: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto sw0Nw; omeYf: } goto T3bJb; r4n47: Dj9x7: goto X019d; e28rY: if ($ret["\x64\x6f\155"]["\x6f\153"]) { goto DVyY7; } goto gQakS; N4IBz: define("\x41\120\x49\x5f\x4f\x41\125\x54\x48\137\x52\105\x47\111\123\124\105\x52\137\x53\111\124\105", API_HOST . "\57\163\151\164\145\57\x72\145\147\151\163\164\x65\x72\x2f\x69\x6e\144\x65\170"); goto lduC6; jbVe3: exit(we7_error(400, "\344\277\xae\346\x94\271\xe7\253\x99\347\x82\xb9\xe5\220\x8d\347\xa7\260\345\244\261\350\xb4\245\x2e")); goto tz3gk; IXQwn: r0pTB: goto waUtn; j2SOd: $filename = IA_INSTALL_ROOT . "\57\x63\x68\165\156\x6b\137" . $chunk_num; goto YD9YD; SV3zP: u9XE5: goto BBL04; oPZru: we7_finish(); goto D_s7a; GNLto: function we7_db() { goto XZwi1; WwBHD: if (file_exists(IA_INSTALL_ROOT . "\x2f\x69\156\x64\145\x78\x2e\x70\x68\160") && is_dir(IA_INSTALL_ROOT . "\57\167\145\x62") && file_exists(IA_INSTALL_ROOT . "\57\x66\162\141\155\145\x77\x6f\x72\x6b\57\x76\x65\162\163\151\x6f\156\56\151\x6e\143\x2e\x70\x68\x70") && file_exists($dbfile)) { goto LwYam; } goto mA9jJ; zFoIm: $support_innodb = false; goto ZzDlw; TJysK: return true; goto gzjVI; EZ0ey: $link->exec("\123\x45\x54\x20\x73\161\154\x5f\x6d\x6f\x64\x65\x3d\x27\47"); goto ug3Qk; kAVSy: foreach ($all_engines as $engine) { goto KYTIC; HICqJ: $support_innodb = true; goto O1DtJ; KYTIC: if (!(strtolower($engine["\105\156\x67\x69\x6e\x65"]) == "\151\156\156\157\x64\142" && in_array(strtolower($engine["\123\165\160\160\x6f\x72\164"]), array("\144\145\x66\141\165\154\164", "\171\145\163")))) { goto FyXkK; } goto HICqJ; ZWKzD: FaktL: goto BvUFb; O1DtJ: FyXkK: goto ZWKzD; BvUFb: } goto FdMAe; OJ2kM: setcookie("{$cookiepre}\137\137\163\x65\163\x73\x69\x6f\x6e", $session, 0, "\x2f", '', $secure, true); goto TJysK; ZzDlw: $engines = $link->query("\123\110\x4f\x57\40\x45\116\107\x49\116\105\123\73"); goto BKZDl; RsFm9: $link = new PDO("\x6d\171\163\161\x6c\72\x64\142\x6e\x61\155\145\75{$db["\156\141\155\x65"]}\x3b\x68\157\163\x74\x3d{$db["\x73\145\x72\x76\145\162"]}\73\160\x6f\162\164\75{$db["\x70\157\162\x74"]}", $db["\x75\163\145\162\x6e\x61\x6d\145"], $db["\160\141\163\x73\x77\x6f\162\144"]); goto PRYZx; TWfTL: $cookie = array("\154\141\163\x74\x76\x69\163\151\164" => '', "\154\141\x73\x74\151\x70" => ''); goto l1vol; StbYP: $cookie["\x68\x61\x73\150"] = md5($password . $salt); goto zxhsP; ug3Qk: $dbfile = IA_INSTALL_ROOT . "\57\144\x61\164\x61\57\x64\142\x2e\160\x68\x70"; goto WwBHD; X0UHp: $password = sha1("{$user["\x70\141\x73\163\x77\157\162\144"]}\x2d{$salt}\55{$authkey}"); goto Iv_o9; LCyhU: $secure = $is_https ? 1 : 0; goto OJ2kM; XZwi1: global $is_https; goto y2ktQ; agWMp: PXFQ6: goto JyXvt; y2ktQ: define("\111\116\137\111\101", true); goto nelJn; lBwHo: $authkey = $config["\x73\145\164\164\151\x6e\x67"]["\141\165\x74\150\x6b\145\171"]; goto RsFm9; Mt0T_: if (!(empty($dat) || !is_array($dat))) { goto PB2A5; } goto oHkAe; xv00s: $user = array("\165\163\x65\162\x6e\x61\x6d\145" => "\141\x64\x6d\x69\x6e", "\160\141\x73\163\x77\157\x72\144" => "\x31\x32\63\64\x35\x36"); goto pgd7l; nelJn: require IA_INSTALL_ROOT . "\57\x64\x61\164\x61\x2f\x63\x6f\x6e\146\151\147\x2e\160\x68\x70"; goto fQ7Uc; NCQAD: O4xq1: goto PCtwK; JyXvt: foreach ($dat["\144\x61\164\141\163"] as $data) { local_run($data, $link, $db); Wetlh: } goto NCQAD; FdMAe: FI1dC: goto bWmSG; bWmSG: foreach ($dat["\x73\143\x68\145\x6d\x61\x73"] as $schema) { goto WNmsx; GowmF: xDpjI: goto Pvf3b; yC43r: local_run($sql, $link, $db); goto GowmF; WNmsx: $sql = local_create_sql($schema, $support_innodb); goto yC43r; Pvf3b: } goto agWMp; Iv_o9: $link->exec("\x49\x4e\123\105\x52\x54\40\111\116\x54\x4f\40{$db["\x70\x72\145\146\151\x78"]}\165\163\145\162\x73\x20\x28\x75\163\x65\x72\x6e\141\155\x65\54\40\160\x61\163\163\167\157\162\x64\54\x20\163\141\x6c\x74\x2c\40\x6a\x6f\x69\x6e\x64\141\164\145\54\40\147\162\157\x75\160\151\x64\x2c\40\163\164\141\x74\x75\x73\54\40\146\157\x75\156\144\145\x72\x5f\147\x72\x6f\x75\160\151\144\x2c\x20\151\x73\x5f\142\151\156\144\51\40\x56\x41\x4c\125\105\x53\50\x27{$user["\165\x73\145\162\156\141\155\x65"]}\x27\54\40\x27{$password}\47\54\x20\x27{$salt}\x27\x2c\40\x27" . time() . "\x27\54\40\x31\x2c\40\62\54\40\61\54\x20\x30\x29"); goto TWfTL; pgd7l: $salt = local_salt(8); goto X0UHp; l1vol: $cookie["\165\x69\x64"] = $link->lastInsertId(); goto StbYP; zxhsP: $session = install_authcode(json_encode($cookie), "\145\x6e\143\x6f\144\x65", $authkey); goto LCyhU; flt5u: $dat = (require $dbfile); goto Mt0T_; hlizq: $cookiepre = $config["\x63\x6f\157\153\x69\x65"]["\x70\162\145"]; goto lBwHo; PRYZx: $link->exec("\123\x45\124\40\x63\150\x61\x72\141\x63\x74\145\x72\137\163\145\164\x5f\143\x6f\x6e\156\145\x63\164\151\x6f\x6e\x3d\165\164\x66\70\54\x20\143\150\141\162\141\x63\164\145\x72\137\x73\145\164\x5f\162\145\x73\x75\x6c\164\x73\x3d\165\164\146\70\54\x20\x63\x68\141\x72\x61\143\x74\x65\162\x5f\x73\145\164\137\x63\x6c\151\145\x6e\x74\75\142\x69\x6e\x61\162\x79"); goto EZ0ey; nZUl5: LwYam: goto flt5u; mA9jJ: return "\xe5\256\211\xe8\xa3\x85\345\214\205\xe4\270\x8d\xe6\xad\xa3\xe7\xa1\256\x2e"; goto E8Nbv; PCtwK: ddmea: goto xv00s; fQ7Uc: $db = array("\x73\x65\162\x76\145\x72" => $config["\x64\x62"]["\155\x61\163\164\145\x72"]["\150\x6f\x73\164"], "\160\157\x72\x74" => $config["\x64\x62"]["\155\x61\x73\164\x65\162"]["\160\x6f\162\x74"], "\x75\163\145\162\x6e\x61\155\x65" => $config["\x64\142"]["\x6d\141\x73\164\145\162"]["\x75\163\145\162\x6e\141\x6d\145"], "\x70\x61\x73\x73\167\x6f\x72\144" => $config["\144\x62"]["\155\141\163\x74\x65\x72"]["\x70\141\x73\163\x77\157\162\144"], "\160\x72\145\146\x69\170" => $config["\x64\142"]["\155\141\163\164\x65\162"]["\x74\x61\142\x6c\145\160\x72\x65"], "\x6e\x61\x6d\x65" => $config["\x64\142"]["\155\x61\x73\164\x65\162"]["\x64\x61\x74\x61\142\x61\163\145"]); goto hlizq; oHkAe: return "\xe5\xae\211\xe8\xa3\x85\xe5\214\205\xe4\270\215\xe6\xad\243\xe7\241\256\x2c\x20\xe6\x95\260\346\x8d\256\xe5\xae\211\xe8\xa3\205\xe8\204\x9a\xe6\234\xac\xe7\274\xba\xe5\xa4\xb1\56"; goto Tdpku; BKZDl: $all_engines = $engines->fetchAll(); goto kAVSy; Tdpku: PB2A5: goto zFoIm; E8Nbv: goto ddmea; goto nZUl5; gzjVI: } goto N8NyB; NrCzf: goto f3S8k; goto JPd8G; AGqtD: define("\x41\120\111\137\125\120\104\101\124\105\137\x53\x49\x54\105\x4e\x41\115\105", API_HOST . "\57\x73\151\164\145\57\x72\145\147\151\163\x74\145\x72\x2f\x72\x65\x6e\141\x6d\x65"); goto Qqcu2; uEAmY: $ret["\144\x61\x74\x61"]["\146\x61\151\154\x65\144"] = true; goto CbP8g; Ewl2K: exit(we7_error(0, $result)); goto r4n47; SreOk: $dbfile = IA_INSTALL_ROOT . "\x2f\x64\141\x74\141\x2f\x64\x62\x2e\x70\x68\x70"; goto eQtdx; IS_Zw: if (!empty($chunk_total)) { goto Ub6ke; } goto H7n50; qAafV: $source_size = we7_getcookie("\x63\x64\156\x5f\x73\x6f\165\x72\143\145\x5f\x73\151\172\x65"); goto q3rRN; Vqwac: goto Y6ux0; goto f15oq; iJDNM: setting_save($site, "\163\151\164\145"); goto z_JzO; mONVp: if (we7_network_enable($_SERVER["\x53\105\x52\126\x45\122\x5f\x4e\x41\115\x45"])) { goto G40bF; } goto hfv3g; f80So: if (!($action == "\x64\157\x77\156\154\x6f\x61\144\x5f\x70\145\x72\x63\x65\156\x74")) { goto Dj9x7; } goto LBsXL; NfHxz: define("\103\117\x4f\x4b\111\x45\x5f\x50\x52\105", "\x77\145\x37\151\156\163\x74\x61\154\154\137"); goto OUWhJ; wu2q3: function we7_request_api($url, $post = array()) { goto seWxw; i6iYA: if (!($response["\x63\157\144\x65"] == 401)) { goto S3nxu; } goto wnEkN; QMIXT: Nifbi: goto f41dL; QjTgd: return array("\145\x72\162\157\x72" => $response["\x63\157\x6e\x74\145\x6e\164"]); goto i7fpn; ri5Wj: $result = json_decode($response["\143\x6f\156\164\x65\x6e\x74"], true); goto h0n6x; seWxw: $response = we7_http_request($url, $post); goto i6iYA; pXU3z: if (!($response["\x63\157\x64\x65"] != 200 || isset($response["\145\162\162\x6e\x6f"]))) { goto q1U1F; } goto QjTgd; YVv0q: vNo15: goto vqg5j; cZI3m: goto vNo15; goto QMIXT; EQYDt: return $response["\x63\x6f\156\164\x65\156\x74"]; goto cZI3m; i7fpn: q1U1F: goto ri5Wj; h0n6x: if (is_array($result)) { goto Nifbi; } goto EQYDt; p7pYt: S3nxu: goto pXU3z; wnEkN: return array("\145\x72\162\x6f\x72" => 401); goto p7pYt; f41dL: return $result; goto YVv0q; vqg5j: } goto q4RJA; JBGLS: czXzJ: goto d43Nl; kl8Rw: $url = $siteroot . "\x2f\x69\156\163\164\x61\154\154\x2e\160\150\160\77\163\164\145\x70\75\x6f\141\x75\164\x68"; goto L8CMG; mIbT3: aaWto: goto ozrqX; N3abm: function local_mkdirs($path) { goto RKcT0; RKcT0: if (is_dir($path)) { goto PWXbq; } goto ekcp9; h6FX4: PWXbq: goto zhcpY; ekcp9: local_mkdirs(dirname($path)); goto CdnsN; CdnsN: mkdir($path); goto h6FX4; zhcpY: return is_dir($path); goto MOFCl; MOFCl: } goto aMAsn; PRXrn: Jl_YV: goto DbNEV; aHQJH: ExB5h: goto CFYN4; HV5NJ: $ret["\x66\x6f\160\145\156"]["\146\x61\x69\x6c\x65\144"] = true; goto jU39e; W9_Nz: if (!(!empty($auth["\165\162\154"]) && $auth["\165\x72\x6c"] == $siteroot)) { goto F1Sch; } goto XYPyG; T7lwV: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\143\150\x75\x6e\153\137" . $i) || empty($chunk_i_filesize))) { goto JR0nI; } goto RKEt1; w2fQh: $code = trim($_GET["\x63\x6f\144\x65"]); goto EwGox; ExW25: if (!(is_array($data) && isset($data["\145\x72\x72\157\x72"]))) { goto Cn8G_; } goto xikWE; QtIlD: $i++; goto Uh_EQ; GvnRS: $ret["\141\x6c\167\141\171\x73\137\x70\157\160\x75\154\x61\x74\145\137\x72\141\x77\137\160\157\163\x74\x5f\x64\x61\164\x61"]["\162\x65\163\x75\154\x74"] = @ini_get("\141\x6c\167\x61\171\163\137\160\x6f\x70\x75\154\141\x74\145\137\x72\x61\167\137\x70\157\x73\x74\x5f\144\141\164\x61"); goto rDt_H; kR57m: if (!($database_result !== true)) { goto QfQAI; } goto V5Ynx; OER75: $ret["\x64\157\155"]["\x6f\x6b"] = class_exists("\x44\x4f\x4d\104\157\143\x75\155\145\x6e\164"); goto e28rY; ozrqX: $result = file_put_contents("\56\57\143\x68\x75\x6e\x6b\137" . $chunk_num, $data); goto gqsTr; X0nBl: set_time_limit(0); goto xm8Ej; TH1m5: exit(we7_error(0, $chunk_num)); goto KRkof; So1us: QmRpM: goto MCK25; x8m7u: WZ5VM: goto mONVp; g2BcX: function local_salt($length = 8) { goto C5WPI; Nqv2W: return $result; goto OoINg; oUeGc: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto Nqv2W; C5WPI: $strs = "\101\102\103\x44\x45\x46\x47\x48\111\112\x4b\114\x4d\x4e\117\x50\121\122\x53\x54\125\x56\x57\130\x59\132\141\x62\143\144\x65\x66\x67\150\x69\152\153\x6c\156\x6d\x6f\160\x71\162\x73\164\165\166\167\170\x79\x7a\x30\61\x32\x33\64\x35\66\x37\x38\x39"; goto oUeGc; OoINg: } goto aqW2G; Jwim7: exit(we7_error(434, $result)); goto NrCzf; a5SV1: $i = 1; goto NGiay; FXPJ0: $header_array = get_headers($cdn_source_file, 1); goto F2WA7; ypmrk: $sitename_result = we7_update_sitename($sitename); goto GzDGx; CXt1s: MgF1r: goto RCwYB; bGzdp: if (!(!empty($ret["\163\145\x73\x73\151\x6f\156"]["\157\153"]) && strtolower($ret["\x73\x65\x73\x73\x69\x6f\x6e"]["\x6f\x6b"]) == "\x6f\156")) { goto Jl_YV; } goto dB1ZH; DKq_5: RNYCO: goto n50fK; LBsXL: clearstatcache(); goto qAafV; eQtdx: if (file_exists(IA_INSTALL_ROOT . "\57\x69\x6e\x64\x65\x78\x2e\x70\150\x70") && is_dir(IA_INSTALL_ROOT . "\57\x77\145\x62") && file_exists($verfile) && file_exists($dbfile)) { goto BIFbT; } goto IoKcO; AsSRB: L7RKo: goto dghD0; nRzN1: yLFU4: goto X5uqU; wRKJ1: touch(IA_INSTALL_ROOT . "\x2f\x64\x61\x74\141\x2f\151\x6e\x73\x74\x61\154\x6c\x2e\154\x6f\x63\x6b"); goto XVdJY; EEEH9: goto SuixS; goto Vh28C; gJgng: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto GxcvX; GxcvX: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto CZ60l; } goto M9iFr; xOpTc: $config = str_replace(array("\173\144\x62\55\163\x65\162\x76\x65\x72\175", "\173\144\142\x2d\x75\163\x65\162\156\x61\x6d\x65\x7d", "\x7b\144\x62\55\160\141\x73\x73\x77\157\x72\144\x7d", "\x7b\x64\x62\55\x70\157\162\164\x7d", "\x7b\x64\142\x2d\156\x61\x6d\x65\175", "\x7b\x64\142\55\164\x61\x62\x6c\145\160\x72\145\175", "\173\143\157\157\153\151\145\160\x72\145\175", "\173\141\x75\164\150\x6b\145\171\175", "\173\x61\164\x74\x61\143\x68\x64\151\162\x7d"), array($db["\163\145\x72\x76\145\162"], $db["\x75\x73\x65\x72\156\141\x6d\x65"], $db["\160\141\163\163\167\157\162\x64"], $db["\160\x6f\x72\164"], $db["\156\x61\155\x65"], $db["\x70\x72\x65\x66\x69\170"], $cookiepre, $authkey, "\x61\164\164\x61\x63\150\155\145\x6e\x74"), $config); goto EUvqN; JMBS1: p3dVI: goto atefG; Hd8R5: $db = array("\x73\x65\162\166\x65\x72" => $pieces[0] == "\x31\x32\67\56\x30\56\x30\56\x31" ? "\154\157\x63\x61\x6c\x68\x6f\163\164" : $pieces[0], "\x70\157\162\x74" => !empty($pieces[1]) ? $pieces[1] : "\x33\x33\x30\66", "\165\x73\145\162\x6e\141\x6d\145" => $db_username, "\160\141\163\x73\x77\157\x72\x64" => $db_password, "\160\x72\145\146\x69\x78" => $db_prefix, "\156\141\x6d\x65" => $db_name); goto VsLOM; VsLOM: try { goto n8ZsS; PIywq: if (!$statement->fetch()) { goto hSY5B; } goto LNGUU; rH1w9: fsTEL: goto pkMwl; E664y: if (!($link->errorCode() != "\x30\x30\60\x30\60")) { goto fsTEL; } goto fvrU8; Zyj4w: $link->exec("\x53\105\x54\x20\163\161\154\137\155\x6f\144\145\x3d\47\47"); goto PkQuV; hD827: qm0YL: goto KTMGR; LNGUU: return "\346\202\250\xe7\232\204\xe6\225\xb0\346\215\256\345\xba\223\344\xb8\x8d\344\xb8\272\xe7\251\xba\357\xbc\x8c\xe8\257\xb7\351\x87\x8d\346\x96\xb0\xe5\273\272\347\xab\213\xe6\x95\260\xe6\215\xae\xe5\272\223\346\210\x96\346\x98\257\xe6\xb8\x85\xe7\xa9\xba\350\257\xa5\xe6\x95\260\xe6\215\256\345\xba\223\346\210\226\xe6\x9b\264\xe6\224\271\xe8\241\xa8\345\211\x8d\347\274\x80\357\xbc\201"; goto NRHhN; SpaFS: sOKfp: goto oNdX7; K8fZU: $link->query("\103\x52\x45\x41\x54\x45\x20\104\x41\124\x41\x42\x41\123\x45\40\111\x46\x20\116\117\124\40\x45\130\111\x53\x54\123\40\140{$db["\x6e\141\155\x65"]}\140"); goto ubb30; reoXs: $fetch = $statement->fetch(); goto X3Cik; KYyCb: $error .= $errorInfo[2]; goto rH1w9; FsCc_: $link->exec("\123\x45\x54\40\143\x68\x61\162\x61\143\x74\145\162\x5f\163\x65\x74\x5f\143\157\156\x6e\145\x63\164\151\157\156\x3d\165\x74\146\x38\54\40\x63\x68\141\162\x61\143\x74\x65\162\x5f\163\x65\164\137\x72\x65\x73\165\x6c\164\x73\x3d\x75\x74\146\70\x2c\40\143\x68\x61\162\141\143\x74\x65\x72\x5f\x73\145\x74\x5f\x63\x6c\x69\145\156\x74\x3d\x62\151\156\x61\x72\171"); goto Zyj4w; e3u1K: if (!empty($fetch)) { goto BaL4v; } goto Tb6eC; oNdX7: $link->exec("\125\123\x45\40{$db["\156\141\x6d\145"]}"); goto Z28vK; zvQ5S: $errorInfo = $link->errorInfo(); goto ndPrW; ndPrW: $error = $errorInfo[2]; goto SpaFS; n8ZsS: $link = new PDO("\x6d\171\163\161\154\72\x68\x6f\163\164\x3d{$db["\x73\145\162\166\x65\x72"]}\73\160\x6f\x72\x74\x3d{$db["\160\157\x72\x74"]}", $db["\x75\x73\x65\162\156\x61\x6d\x65"], $db["\160\x61\163\163\x77\x6f\x72\x64"]); goto FsCc_; PkQuV: if ($link->errorCode() != "\60\60\x30\60\60") { goto PaUJ_; } goto sd8jE; dTwwd: PaUJ_: goto zvQ5S; Tb6eC: $error = "\xe6\x95\xb0\xe6\x8d\xae\345\xba\x93\344\270\x8d\xe5\xad\x98\xe5\234\250\344\xb8\x94\xe5\210\233\345\273\xba\346\x95\260\346\215\256\345\272\223\345\244\261\350\264\245\56"; goto pLPYK; IDYBx: $statement = $link->query("\123\x48\117\x57\x20\x44\101\x54\101\102\101\123\x45\x53\x20\114\x49\113\x45\40\47{$db["\156\141\155\x65"]}\x27\x3b"); goto MHddE; KTMGR: $link->query("\103\x52\x45\x41\124\x45\40\x44\101\124\101\x42\x41\x53\x45\40\x49\x46\x20\116\117\124\40\x45\x58\x49\x53\x54\x53\40\x60{$db["\x6e\141\x6d\145"]}\x60\x20\x44\x45\x46\x41\125\114\x54\x20\103\110\x41\122\x41\103\x54\x45\x52\x20\123\105\x54\x20\x75\x74\x66\70"); goto I5xZ5; ubb30: goto RUzPz; goto hD827; X3Cik: if (!empty($fetch)) { goto KAMjh; } goto ye1Zq; pkMwl: goto sOKfp; goto dTwwd; NRHhN: hSY5B: goto Ifsnu; I5xZ5: RUzPz: goto XOA6k; pLPYK: BaL4v: goto E664y; Z28vK: $statement = $link->query("\123\110\117\127\40\124\x41\102\x4c\105\123\40\114\111\x4b\105\40\47{$db["\x70\x72\x65\x66\x69\170"]}\x25\x27\x3b"); goto PIywq; fvrU8: $errorInfo = $link->errorInfo(); goto KYyCb; MHddE: $fetch = $statement->fetch(); goto e3u1K; ye1Zq: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\x34\x2e\61") { goto qm0YL; } goto K8fZU; sd8jE: $statement = $link->query("\x53\110\117\127\40\104\101\124\101\102\101\123\105\x53\x20\114\111\113\105\40\47{$db["\156\x61\155\145"]}\47\x3b"); goto reoXs; XOA6k: KAMjh: goto IDYBx; Ifsnu: } catch (PDOException $e) { goto A9FY4; lPGQW: JNaaW: goto Xtz16; Sn9WU: WvKAQ: goto kzier; S7Piz: if (strpos($error, "\x41\143\x63\145\x73\163\x20\144\145\156\151\145\144\x20\146\157\x72\40\165\x73\x65\162") !== false) { goto WvKAQ; } goto yibE2; kzier: $error = "\346\202\250\xe7\232\x84\xe6\225\xb0\xe6\215\256\345\xba\223\xe8\xae\xbf\351\227\xae\347\x94\250\xe6\x88\267\xe5\x90\215\xe6\210\226\xe6\x98\257\345\257\x86\xe7\240\201\xe9\x94\231\350\xaf\xaf\56"; goto lPGQW; OfVj3: goto JNaaW; goto Sn9WU; A9FY4: $error = $e->getMessage(); goto S7Piz; yibE2: $error = iconv("\x67\x62\153", "\165\164\x66\70", $error); goto OfVj3; Xtz16: } goto VmDKJ; atefG: $config = local_config(); goto K_YEL; mT438: CZ60l: goto G5xUy; HDfvF: $result = file_put_contents(IA_INSTALL_ROOT . "\57\x64\x61\164\141\x2f\143\157\156\x66\x69\147\x2e\160\x68\160", $config); goto ckgM7; K_YEL: $cookiepre = local_salt(4) . "\137"; goto yYyEq; yYyEq: $authkey = local_salt(8); goto xOpTc; EUvqN: local_mkdirs(IA_INSTALL_ROOT . "\x2f\x64\x61\x74\x61"); goto HDfvF; G5xUy: $pieces = explode("\x3a", $server); goto Hd8R5; M9iFr: return false; goto mT438; rUt9u: return $error; goto JMBS1; ckgM7: return $result !== false ? true : false; goto o1835; VmDKJ: if (empty($error)) { goto p3dVI; } goto rUt9u; o1835: } goto GNLto; Rln74: function we7_update_user($username, $password) { goto tvG5h; i8r9e: $password = user_hash($password, $userinfo["\x73\x61\154\x74"]); goto trREd; BDZK4: load()->model("\x75\163\x65\x72"); goto j1tOc; j1tOc: $userinfo = pdo_get("\165\163\145\x72\163", array("\x75\163\x65\162\x6e\x61\x6d\145" => "\x61\x64\155\x69\156")); goto i8r9e; mgdst: $cookie["\x68\x61\163\150"] = md5($password . $userinfo["\x73\141\154\x74"]); goto emLww; My8MQ: $secure = $is_https ? 1 : 0; goto QI0wG; trREd: $result = pdo_update("\x75\163\145\x72\x73", array("\165\163\145\162\x6e\141\x6d\145" => $username, "\x70\141\163\163\x77\x6f\x72\x64" => $password), array("\165\x69\x64" => $userinfo["\x75\x69\144"])); goto RnsOA; emLww: $session = install_authcode(json_encode($cookie), "\145\156\143\x6f\x64\x65", $_W["\x63\x6f\156\x66\151\x67"]["\x73\x65\x74\x74\x69\156\147"]["\141\165\164\x68\153\145\171"]); goto My8MQ; tvG5h: global $_W, $is_https; goto BDZK4; vJr6B: return $result ? true : false; goto hyJdq; KdaLn: $cookie["\x75\x69\x64"] = $userinfo["\x75\151\x64"]; goto mgdst; QI0wG: setcookie($_W["\143\157\x6e\146\151\147"]["\x63\x6f\157\153\x69\145"]["\x70\x72\x65"] . "\x5f\x5f\x73\x65\163\x73\151\x6f\156", $session, 0, "\57", '', $secure, true); goto vJr6B; RnsOA: $cookie = array("\x6c\141\x73\164\166\x69\163\x69\164" => '', "\154\x61\163\x74\151\160" => ''); goto KdaLn; hyJdq: } goto FNAf1; q0Gim: f3S8k: goto AsSRB; g3ynf: exit(we7_error(400, $chunk_num)); goto DatpB; BqwM8: if (!($action == "\x63\150\145\x63\153\137\x73\151\x74\145")) { goto ze4C4; } goto ot9TP; qS3fb: if (!(version_compare(PHP_VERSION, "\65\56\63\56\60") == -1)) { goto MgF1r; } goto Jgfxh; X10Od: $sitepath = substr($_SERVER["\x50\110\x50\x5f\x53\105\x4c\106"], 0, strrpos($_SERVER["\x50\110\120\137\123\105\114\106"], "\57")); goto BWuxz; JnlIT: $registered_site = we7_getcookie("\162\145\147\151\x73\x74\x65\x72\145\144\x5f\163\151\x74\145"); goto H2ux1; Duz32: exit(we7_error(0, array("\164\x6f\164\141\x6c" => 1))); goto C9xxr; vPSck: header("\x63\157\x6e\164\145\x6e\x74\55\x74\x79\160\145\72\164\x65\170\164\x2f\150\164\155\154\x3b\143\x68\141\162\163\x65\164\75\x75\164\x66\55\70"); goto colqP; rk_5K: header("\114\x6f\x63\x61\x74\x69\157\156\x3a\x20" . $siteroot . "\57\x69\x6e\163\x74\141\154\154\56\x70\150\x70"); goto p2bRT; zGEk8: GBeO5: goto eLc2g; iBFYt: $ret["\162\x6f\157\x74"]["\x6f\x6b"] = local_writeable(IA_INSTALL_ROOT); goto XBwIZ; QNcGK: if (is_array($data) && isset($data["\x65\x72\x72\157\162"])) { goto r0Usd; } goto GHUIO; E46rW: $server["\x75\160\154\x6f\x61\144"] = @ini_get("\146\151\x6c\145\x5f\x75\160\x6c\157\x61\144\x73") ? ini_get("\x75\160\154\x6f\x61\x64\137\155\141\x78\x5f\146\151\x6c\x65\163\x69\172\x65") : "\x75\x6e\153\156\x6f\167"; goto RlJ1d; g1jRA: JR0nI: goto sFI6Y; CQj5c: exit(we7_error(430, $register_site_result)); goto lZDYA; CM0MI: $db_name = trim($_POST["\156\x61\155\145"]); goto Hh5_a; vIP23: goto CBsgX; goto yJV90; yUe79: BIFbT: goto WbR9i; xikWE: if ($data["\x65\162\162\x6f\162"] == 401) { goto iK72k; } goto xkokj; ZRg9i: $hostfile = fopen($cdn_source_file, "\x72\142"); goto w0QIe; gr4t7: exit; goto EEEH9; Tm6oD: function we7_upgrade() { goto CTN5n; iu6PM: z4bUh: goto gdXHZ; gdXHZ: return true; goto dFfIY; SK9Vu: hfrmE: goto jSbqI; LiLRO: foreach ($packet["\163\143\x68\145\155\x61\x73"] as $schema) { goto BFaj0; Q_m4s: $local = db_table_schema(pdo(), $tablename); goto afdrJ; afdrJ: $sqls = db_table_fix_sql($local, $schema); goto lfL94; lfL94: foreach ($sqls as $sql) { pdo_query($sql); oxAH8: } goto L31Bz; BFaj0: $tablename = substr($schema["\x74\141\142\x6c\145\x6e\141\x6d\145"], 4); goto Q_m4s; Og6w_: eoPH_: goto C0dNU; L31Bz: R2A2r: goto Og6w_; C0dNU: } goto bcvY1; sJuK9: if (!(!empty($packet["\x73\143\x72\151\160\x74\163"]) && is_array($packet["\x73\143\x72\x69\160\x74\x73"]))) { goto z4bUh; } goto VPTM4; lR7YC: $packet = cloud_build(); goto Eimgc; sJBkL: rmdirs($updatedir, true); goto f8Wq0; CTN5n: global $_W; goto PdEeq; jSbqI: if (!(!empty($packet["\x66\x69\154\x65\x73"]) && is_array($packet["\146\151\154\x65\x73"]))) { goto PyjTU; } goto f_Kik; bcvY1: TS7Y5: goto EbTgS; mt5F8: return true; goto SK9Vu; PdEeq: define("\111\116\137\123\131\123", true); goto aKa5I; pbQW_: load()->model("\143\154\157\165\144"); goto aRKzd; NIOax: $crelease = IMS_RELEASE_DATE; goto uoruO; EbTgS: K5QFA: goto sJuK9; c2Ua9: pIWmT: goto BugNS; A9SUX: hYtmo: goto iu6PM; VPTM4: $updatefiles = array(); goto CpdoK; lnkm5: NGpcI: goto RU1G1; f_Kik: foreach ($packet["\146\x69\154\x65\163"] as $file) { cloud_download($file, "\x66\151\154\145\x73"); VGgRS: } goto c2Ua9; pFUUm: foreach ($updatefiles as $file) { goto Q1FWl; Q1FWl: if (!(!is_file($file) || !preg_match("\57\x5e\165\x70\x64\x61\164\x65\x5c\50\134\144\173\61\62\175\x5c\x2d\x5c\x64\x7b\61\62\175\134\51\x5c\x2e\x70\150\x70\x24\57", $file))) { goto WymS8; } goto c7YyQ; P8V8W: cache_build_setting(); goto NUj7D; JoBsz: if (empty($evalret)) { goto u_waL; } goto ZDRkU; MRD5H: u_waL: goto zZeU4; c7YyQ: goto S3NdA; goto jpFY0; jpFY0: WymS8: goto PnH8m; PnH8m: $evalret = (include $entry); goto JoBsz; ZDRkU: cache_build_users_struct(); goto P8V8W; NUj7D: @unlink($entry); goto MRD5H; zZeU4: S3NdA: goto Tc4Vh; Tc4Vh: } goto reQbL; em5KW: $cversion = IMS_VERSION; goto NIOax; SF1XL: require IA_INSTALL_ROOT . "\57\x77\145\142\57\143\157\155\x6d\x6f\x6e\57\142\157\157\164\x73\x74\x72\141\160\x2e\163\171\x73\56\x69\156\x63\x2e\x70\150\160"; goto pbQW_; Eimgc: if (!empty($packet)) { goto hfrmE; } goto mt5F8; aKa5I: require IA_INSTALL_ROOT . "\57\x66\162\141\155\x65\x77\x6f\x72\153\57\142\157\157\x74\x73\x74\x72\x61\160\56\151\x6e\143\56\160\x68\x70"; goto SF1XL; BugNS: PyjTU: goto UtDMX; aRKzd: load()->func("\144\x62"); goto s3Sot; f8Wq0: mkdirs($updatedir); goto em5KW; RU1G1: if (empty($updatefiles)) { goto hYtmo; } goto pFUUm; UtDMX: if (!(!empty($packet["\163\x63\150\x65\155\141\x73"]) && is_array($packet["\163\143\x68\x65\x6d\141\163"]))) { goto K5QFA; } goto LiLRO; reQbL: mSk9Y: goto A9SUX; CpdoK: $updatedir = IA_INSTALL_ROOT . "\x2f\x64\141\164\141\x2f\x75\160\144\141\164\145\57"; goto sJBkL; uoruO: foreach ($packet["\163\x63\162\x69\x70\164\163"] as $script) { goto HJ1aF; o22Zl: A6Ks3: goto yf0nI; V8zxb: $script["\x73\143\162\x69\x70\x74"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\x66\141\x6d\151\154\x79"]}', '{$script["\166\145\162\163\151\157\156"]}', '{$script["\x72\145\154\145\x61\163\x65"]}');
return true;
DAT;
goto o22Zl; y6DBz: $updatefiles[] = $updatefile; goto C7fCu; b5JsX: goto hjpab; goto ztMSI; kO4nu: file_put_contents($updatefile, $script["\163\x63\162\x69\160\164"]); goto y6DBz; ztMSI: qz92T: goto egSyZ; pi1Av: $crelease = $script["\162\145\154\145\x61\163\x65"]; goto WVj_c; mrsJR: if (!empty($script["\x73\x63\162\x69\160\x74"])) { goto A6Ks3; } goto V8zxb; WVj_c: $script["\x73\x63\x72\151\160\x74"] = @base64_decode($script["\x73\143\162\151\160\x74"]); goto mrsJR; egSyZ: $fname = "\x75\160\144\141\x74\x65\x28{$crelease}\x2d{$script["\x72\145\x6c\x65\141\163\145"]}\x29\x2e\160\x68\x70"; goto pi1Av; HJ1aF: if (!($script["\162\x65\x6c\x65\141\163\145"] <= $crelease)) { goto qz92T; } goto b5JsX; yf0nI: $updatefile = $updatedir . $fname; goto kO4nu; C7fCu: hjpab: goto bhg_K; bhg_K: } goto lnkm5; s3Sot: load()->func("\x66\x69\154\145"); goto lR7YC; dFfIY: } goto sjAmi; htPPB: exit(we7_error(400, "\350\257\267\xe9\207\215\xe6\x96\xb0\347\231\xbb\xe5\275\x95\56")); goto WiHOH; lZDYA: WeM43: goto sHzC5; F2WA7: $source_size = $header_array["\103\157\x6e\x74\145\156\164\x2d\x4c\145\156\147\x74\x68"]; goto D7cmm; RCwYB: if (!(version_compare(PHP_VERSION, "\x37\x2e\x30\56\60") == -1 && version_compare(PHP_VERSION, "\x35\x2e\66\x2e\60") >= 0)) { goto WZ5VM; } goto DqCdA; rDt_H: $ret["\x61\x6c\x77\141\x79\x73\x5f\x70\157\160\x75\x6c\x61\164\x65\x5f\162\x61\167\137\160\x6f\x73\164\137\x64\x61\164\141"]["\x68\141\156\x64\x6c\145"] = "\150\x74\x74\x70\163\x3a\57\57\163\x2e\167\x37\56\x63\143\x2f\x77\157\57\160\x72\157\142\154\x65\x6d\x2f\x31\63\x34"; goto x8m7u; z08X7: function we7_get_accesstoken() { goto Lh73c; st8RN: return $accesstoken["\141\x63\143\145\163\x73\x54\x6f\153\145\x6e"]; goto OMh0O; OMh0O: Qki51: goto yp5bN; Lh73c: $cookie_accesstoken = we7_getcookie("\141\143\x63\145\x73\x73\x74\157\x6b\145\156"); goto OfUP7; yp5bN: return ''; goto JdWDJ; OfUP7: $accesstoken = json_decode($cookie_accesstoken, true); goto tL763; tL763: if (!(!empty($accesstoken) && !empty($accesstoken["\141\x63\x63\145\x73\x73\124\x6f\153\145\x6e"]) && $accesstoken["\145\170\160\151\x72\145\x54\x69\155\x65"] > time())) { goto Qki51; } goto st8RN; JdWDJ: } goto mjfMl; IoKcO: exit(we7_error(421, "\345\xae\x89\xe8\xa3\x85\345\x8c\x85\344\270\x8d\345\xae\214\xe6\x95\264\x2e")); goto yUe79; yW3JH: $db_username = trim($_POST["\x75\163\145\162\156\x61\155\145"]); goto JncwD; YgmjW: $ret["\162\x6f\157\164"]["\x66\141\x69\x6c\x65\x64"] = true; goto tULGR; WiHOH: JjHQ7: goto Xcs2O; sJO__: if (!($chunk_num == 1)) { goto kMRET; } goto ZRg9i; ot9TP: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\165\162\154" => $siteroot)); goto IfEB0; NKhQY: xPGNS: goto tXx8e; q4RJA: function we7_error($num, $message = "\x73\165\143\143\x65\x73\x73") { $num = intval($num); return json_encode(array("\145\x72\x72\156\157" => $num, "\x64\x61\x74\x61" => $message)); } goto oHGuz; yO9xc: Wkwo8: goto tZOtJ; bWwdt: $handle_result = we7_handle_chunk(); goto q6s7A; Kz3Bs: if (!($action == "\157\x61\165\164\x68")) { goto RNYCO; } goto w2fQh; GICly: we7_setcookie("\141\143\x63\145\x73\x73\164\x6f\153\145\156", $data); goto DOCuk; A3NpG: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x64\x61\x74\141\57\x63\x6f\x6e\146\151\x67\56\x70\150\x70") || !empty($_POST))) { goto od1Z6; } goto V8oYj; YImam: we7_setcookie("\x69\x6d\163\137\x66\x61\x6d\151\154\x79", in_array($data["\x66\141\x6d\x69\154\x79"], array("\154", "\166", "\163", "\x78")) ? $data["\x66\x61\155\151\154\171"] : "\x76"); goto rk_5K; Qi7cn: we7_handle_chunk(); goto loD8q; owDPB: $password = trim($_POST["\x70\x61\163\163\x77\157\162\144"]); goto oPZru; Vh28C: TjhBX: goto kl8Rw; QexIO: if (!($i <= $chunk_total)) { goto nyz0l; } goto T21iA; NaIol: DVyY7: goto HXEC1; Obyh_: $site = array("\153\145\171" => $auth["\153\x65\x79"], "\x74\x6f\x6b\x65\156" => $auth["\x74\x6f\153\x65\x6e"], "\x75\162\x6c" => $siteroot); goto iJDNM; czTJS: $ret["\163\145\163\x73\151\x6f\x6e"]["\x72\x65\163\x75\154\164"] = "\xe7\xb3\xbb\xe7\xbb\237\163\145\163\x73\x69\x6f\156\56\141\x75\164\157\137\163\164\x61\162\x74\345\xbc\x80\xe5\x90\257"; goto PRXrn; GuG0o: require IA_INSTALL_ROOT . "\x2f\x66\162\x61\155\x65\167\157\162\153\57\142\x6f\157\164\x73\164\x72\x61\160\x2e\x69\x6e\143\56\160\150\x70"; goto Obyh_; VXcQO: $finished = true; goto a5SV1; V5Ynx: exit(we7_error(419, $database_result)); goto IF08l; xkokj: exit(we7_error(400, $chunk_num)); goto qMcCp; gQakS: $ret["\x64\x6f\155"]["\146\x61\151\x6c\x65\144"] = true; goto vZ3GY; d43Nl: if (!($action == "\154\x6f\x67\151\156")) { goto kpnhM; } goto OhNjA; GzDGx: if ($sitename_result) { goto mzFkv; } goto jbVe3; DOCuk: header("\114\x6f\x63\141\x74\151\x6f\156\x3a\40" . $siteroot . "\x2f\151\156\x73\164\141\x6c\x6c\56\x70\x68\x70"); goto gr4t7; ukYKg: if ($data["\x65\162\x72\x6f\162"] == 401) { goto QmRpM; } goto xxb7M; Fb6kx: $register_site_result = we7_register_site(); goto RQIiA; JncwD: $db_password = trim($_POST["\160\x61\163\x73\x77\x6f\x72\x64"]); goto CM0MI; RQIiA: if (!($register_site_result !== true)) { goto WeM43; } goto CQj5c; eIUgk: $database_result = we7_db(); goto tzG2P; Fo6uP: if (empty($result)) { goto iDQ8W; } goto Jwim7; tXdzZ: exit(we7_error(400, $chunk_num)); goto mIbT3; tm2UJ: if (!($action == "\x72\x65\x67\151\163\164\x65\162\x5f\x63\141\x6c\154\x62\x61\143\x6b")) { goto K1kjo; } goto a09mF; XBwIZ: if ($ret["\x72\x6f\x6f\164"]["\x6f\x6b"]) { goto yLFU4; } goto YgmjW; ggwka: $ret["\141\163\x70\x5f\164\141\x67\x73"]["\x6e\141\155\x65"] = "\x61\x73\x70\137\164\x61\x67\x73"; goto x8bwe; pH7Un: $action = in_array($action, $actions) ? $action : ''; goto r9My6; vRmVi: exit(we7_error(400, "\x63\x68\165\x6e\153\345\xa4\247\344\272\x8e\346\x9c\x80\345\xa4\247\xe5\200\xbc")); goto ea2pE; DoraP: rename("\151\x6e\163\164\141\154\x6c\56\160\x68\x70", "\151\156\163\164\x61\x6c\154\x2e\160\x68\x70\x2e\142\x61\x6b"); goto nhYqB; KewX6: function we7_need_extension() { return array("\172\x69\x70", "\x70\x64\157", "\x70\144\x6f\x5f\x6d\x79\163\x71\154", "\157\160\145\x6e\163\x73\x6c", "\x67\144", "\155\142\163\x74\x72\x69\156\147", "\x6d\143\x72\x79\160\164", "\x63\x75\162\x6c"); } goto z08X7; n50fK: if (!($action == "\145\156\x76\151\x72\157\x6e\155\145\156\164")) { goto L7RKo; } goto E46rW; q0jqZ: dbWjf: goto OER75; dZbXg: $post = array("\x61\143\x63\145\163\163\x5f\164\157\153\x65\156" => $accesstoken, "\x63\150\x75\x6e\153" => $chunk_num); goto TM2lg; CbP8g: $ret["\x64\141\164\x61"]["\x6e\x61\x6d\145"] = "\144\x61\x74\141\347\x9b\256\xe5\275\x95\xe5\x86\231\345\x85\xa5"; goto BaJxr; pzxBC: $verfile = IA_INSTALL_ROOT . "\x2f\x66\x72\x61\x6d\x65\x77\157\162\x6b\57\166\x65\162\x73\151\157\156\x2e\151\x6e\x63\56\x70\x68\x70"; goto SreOk; McCiv: od1Z6: goto pzxBC; ARhjl: if (!($action == "\147\145\x74\137\163\151\164\145\153\x65\171")) { goto czXzJ; } goto D0PAu; NIUhY: $action = "\157\141\165\x74\150"; goto qVWg7; a09mF: $post = file_get_contents("\x70\150\x70\72\x2f\x2f\151\x6e\x70\165\164"); goto kapel; QL8g6: yexHy: goto HUJAE; yJV90: O5Wpc: goto VLDpE; uZ_dv: $ret["\165\160\x6c\157\141\144"]["\x6e\x61\x6d\145"] = "\xe4\270\x8a\xe4\xbc\240\xe9\231\x90\345\x88\xb6"; goto ais1x; enb9m: $username = trim($_POST["\x75\163\145\x72\x6e\141\155\x65"]); goto owDPB; DatpB: goto qrbaI; goto McUGi; fxGCL: $ret["\156\x65\164\x77\157\162\153\x5f\145\156\x61\x62\154\145\144"]["\x72\x65\x73\165\x6c\x74"] = "\xe5\244\226\xe7\275\221\xe4\xb8\215\345\x8f\257\xe8\256\xbf\xe9\227\xae"; goto DztKD; Kvl0I: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto kR57m; OhNjA: $sitename = trim($_POST["\x73\151\x74\145\x6e\x61\x6d\145"]); goto enb9m; K9dDO: $ret["\x6e\x65\164\x77\x6f\x72\153\137\145\x6e\141\142\154\x65\144"]["\x6e\141\x6d\x65"] = "\345\244\226\347\xbd\221\xe5\217\257\xe8\xae\xbf\xe9\x97\xae\xe6\x80\xa7"; goto fxGCL; JAoY_: $db_prefix = !empty($db_prefix) ? $db_prefix : "\151\x6d\x73\137"; goto Kvl0I; j4_Rg: exit(we7_error(420, $database_result)); goto e7BiU; XpZ2k: exit(we7_error(400, "\xe4\277\xae\xe6\224\271\347\x94\250\xe6\210\xb7\xe5\220\x8d\345\257\x86\xe7\xa0\201\xe5\244\xb1\xe8\264\xa5\56")); goto jJ8nc; tzG2P: if (!($database_result !== true)) { goto iWT__; } goto j4_Rg; f9bFS: if (!(is_array($data) && isset($data["\x65\162\162\x6f\x72"]))) { goto Z0KRD; } goto PXu4G; AVOSK: $fh = fopen("\x2e\x2f\167\145\x37\x73\x6f\165\x72\x63\x65\x2e\x7a\x69\x70", "\167\142"); goto QL8g6; lxEI3: ini_set("\x64\x69\163\x70\x6c\141\171\x5f\x65\x72\162\157\162\x73", 0); goto nRKGq; gmy85: nyz0l: goto CAjQ4; DztKD: G40bF: goto ek4HC; dghD0: if (!($action == "\143\x68\x75\156\x6b\164\157\x74\141\154")) { goto sgBVj; } goto e9R8C; tZOtJ: tpzyP: goto ttauK; MqX7A: Cn8G_: goto XJ_Db; D7lVs: exit(we7_error(0, array("\x74\157\164\141\154" => $data["\143\x68\x75\156\x6b\137\164\x6f\x74\x61\154"]))); goto Vqwac; GHUIO: we7_setcookie("\x70\141\x63\153\x61\147\145\x5f\x6d\x64\x35", $data["\155\x64\x35"]); goto LfoAr; colqP: echo "\x3c\41\144\157\x63\x74\x79\x70\145\x20\150\x74\155\x6c\x3e\15\12\x3c\150\x74\155\154\x20\154\141\156\147\x3d\x22\x65\x6e\x22\x3e\xd\xa\74\x68\145\141\144\x3e\15\xa\40\40\74\x6d\145\164\141\40\143\x68\141\162\163\x65\x74\x3d\42\x75\164\x66\x2d\70\42\76\xd\12\40\x20\x3c\164\151\164\154\x65\x3e\127\x65\67\111\x6e\x73\x74\141\x6c\x6c\x3c\57\x74\x69\164\x6c\145\x3e\xd\xa\40\x20\74\142\141\x73\145\40\150\x72\145\x66\75\x22" . $sitepath . "\57\151\156\x73\164\141\x6c\154\x2e\x70\150\160\42\x3e\xd\xa\15\xa\x20\40\x3c\155\x65\x74\141\40\x6e\141\x6d\x65\75\x22\166\x69\x65\167\x70\157\162\x74\42\x20\143\157\156\x74\x65\x6e\164\75\x22\x77\x69\144\x74\x68\75\x64\x65\x76\x69\143\145\x2d\167\x69\x64\164\x68\54\40\x69\x6e\x69\164\x69\141\x6c\x2d\x73\143\x61\154\x65\x3d\x31\x22\76\15\xa\x20\40\74\154\151\x6e\153\40\162\145\x6c\x3d\42\151\x63\157\x6e\42\x20\164\x79\160\145\x3d\42\151\x6d\x61\147\145\57\x78\55\x69\x63\x6f\x6e\42\40\x68\162\145\x66\75\57\x2f\x63\x64\156\x2e\x77\x37\x2e\143\143\x2f\167\x65\67\x2d\x69\x6e\163\164\141\x6c\x6c\57\x66\141\166\151\x63\x6f\x6e\x2e\x69\143\x6f\x22\x3e\15\xa\74\154\x69\156\153\40\162\145\154\x3d\42\163\164\x79\x6c\145\x73\x68\x65\145\164\42\40\150\162\x65\146\75\x22\x2f\57\143\x64\x6e\x2e\x77\67\56\x63\143\x2f\165\145\x64\57\167\145\x37\x2d\x69\x6e\163\164\141\154\154\57\x73\x74\x79\x6c\145\163\x2e\x63\x73\163\77\x76\75" . time() . "\42\76\x3c\57\150\145\141\144\76\15\12\x3c\142\x6f\x64\171\x3e\15\12\x20\40\x3c\141\160\160\x2d\x72\157\157\x74\76\x3c\57\141\160\x70\x2d\x72\157\x6f\x74\x3e\15\12\74\163\x63\x72\151\x70\164\x20\x74\171\160\x65\75\42\x74\145\170\164\57\152\x61\x76\141\163\143\x72\151\160\164\x22\x20\163\162\x63\75\42\57\57\143\144\156\x2e\x77\x37\56\143\x63\57\165\x65\144\x2f\x77\145\x37\55\x69\156\x73\164\141\154\154\x2f\162\x75\x6e\164\151\x6d\145\56\152\163\x3f\166\75" . time() . "\42\76\74\57\163\143\162\151\x70\x74\x3e\x3c\163\143\x72\x69\x70\164\40\164\171\x70\145\x3d\42\x74\145\170\x74\57\152\x61\166\141\x73\x63\x72\151\160\164\42\x20\x73\162\x63\75\x22\x2f\x2f\143\144\156\x2e\x77\67\56\x63\143\57\x75\145\144\x2f\x77\145\x37\55\x69\156\x73\164\x61\x6c\x6c\57\160\157\154\x79\146\151\154\x6c\163\56\x6a\163\x3f\x76\x3d" . time() . "\x22\x3e\74\x2f\x73\x63\x72\151\160\164\x3e\74\x73\143\x72\151\x70\x74\40\164\171\160\x65\75\x22\x74\x65\170\x74\x2f\152\x61\166\x61\x73\x63\x72\x69\x70\x74\x22\40\163\x72\x63\x3d\x22\57\x2f\143\144\156\x2e\167\67\56\x63\143\x2f\x75\145\144\57\167\145\x37\55\x69\x6e\163\x74\x61\154\154\57\x6d\x61\x69\156\x2e\x6a\163\77\x76\75" . time() . "\x22\76\x3c\57\x73\143\x72\151\160\164\76\x3c\57\142\x6f\x64\x79\76\15\12\74\57\150\164\x6d\154\76"; goto IOaER; nRKGq: error_reporting(0); goto X0nBl; PcksH: fQMOJ: goto iLu2E; hfv3g: $ret["\156\x65\x74\x77\x6f\162\153\137\x65\x6e\x61\142\x6c\145\x64"]["\146\141\151\154\145\144"] = true; goto K9dDO; P2hyL: if (!($username != "\x61\144\x6d\151\x6e" || $password != "\x31\62\x33\x34\x35\66")) { goto r0pTB; } goto I_FxL; qVWg7: goto fQMOJ; goto JLtu9; yZ84i: $ret["\166\145\x72\x73\x69\x6f\x6e"]["\x6e\x61\155\x65"] = "\x50\110\120\xe7\x89\210\346\234\xac"; goto Xzp8S; xxb7M: exit(we7_error(400, $data["\x65\162\162\157\x72"])); goto m7CXP; e7BiU: iWT__: goto MXVI6; tULGR: $ret["\x72\157\157\164"]["\x6e\x61\x6d\x65"] = "\346\234\xac\xe5\234\260\xe7\233\256\xe5\xbd\x95\xe5\206\231\xe5\205\xa5"; goto FpWSd; NigD1: K1kjo: goto vPSck; ONlYz: $chunk_total = we7_getcookie("\x63\150\165\x6e\x6b\137\164\x6f\164\141\154"); goto IS_Zw; Yej7I: F1Sch: goto QbkN_; jdAck: exit; goto Yw9l9; vZ3GY: $ret["\x64\x6f\x6d"]["\x6e\141\x6d\145"] = "\x44\x4f\115\104\157\x63\165\x6d\x65\x6e\x74"; goto Ia0pN; L5mx2: $result = intval($download_size / $source_size * 100); goto Ewl2K; DbNEV: $ret["\141\x73\x70\x5f\x74\141\x67\163"]["\x6f\153"] = ini_get("\x61\163\x70\137\x74\x61\147\x73"); goto uznAL; f15oq: r0Usd: goto ukYKg; g9A62: exit(we7_error(433, "\141\143\143\x65\x73\163\x74\157\x6b\x65\156\x20\145\170\160\x69\x72\145\144\x2e")); goto MImJl; RlJ1d: $server["\165\x70\154\x6f\x61\144"] = strtolower($server["\165\x70\x6c\x6f\141\x64"]); goto iaB97; X019d: if (!($action == "\144\x6f\167\x6e\154\157\x61\144")) { goto GBeO5; } goto ElGvO; LHl52: QYqBP: goto BqwM8; RKEt1: $finished = false; goto g1jRA; VzkQh: $accesstoken = we7_get_accesstoken(); goto JnlIT; KRkof: Om64s: goto dZbXg; upEkc: s8xwC: goto iBFYt; D_s7a: if (!($sitename != $siteroot . "\xe7\x9a\x84\347\253\231\347\202\271")) { goto FWOi2; } goto ypmrk; N1p_Q: header("\x6c\157\x63\141\164\x69\157\x6e\x3a\40\x2e\x2f\151\156\144\145\170\56\160\150\160"); goto jEBQO; WXtNp: Qi6ur: goto PZBwl; PzGXv: function we7_getcookie($key) { goto kRxD3; R3fW2: $key = COOKIE_PRE . $key; goto XWFOt; XWFOt: return $_COOKIE[$key]; goto vbTDE; kRxD3: if (!empty($key)) { goto nPWx5; } goto DCwXS; DCwXS: return ''; goto v0yvQ; v0yvQ: nPWx5: goto R3fW2; vbTDE: }